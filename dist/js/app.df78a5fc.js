(function(){"use strict";var e={7411:function(e,t,a){a(7658),a(2469);var o=a(6943),s=a(9242),i=a(5269),r=a.n(i),n=a(3396);const l={class:"vertical-container"};function u(e,t,a,o,i,r){const u=(0,n.up)("the-header"),c=(0,n.up)("router-view"),d=(0,n.up)("the-footer"),p=(0,n.up)("modal-error"),h=(0,n.up)("modal-success");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",l,[(0,n.Wm)(u),(0,n._)("main",null,[(0,n.Wm)(c,null,{default:(0,n.w5)((({Component:e})=>[(0,n.Wm)(s.uT,{name:"fade",mode:"out-in"},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)((0,n.LL)(e)))])),_:2},1024)])),_:1})]),(0,n.Wm)(d)]),(0,n.Wm)(p),(0,n.Wm)(h)],64)}var c=a(7139);const d={class:"copyright"};function p(e,t,a,o,s,i){return(0,n.wg)(),(0,n.iD)("footer",null,[(0,n._)("article",null,[(0,n.Uk)(" ©"),(0,n._)("span",d,(0,c.zw)(e.year)+" Articl, LLC",1)])])}var h={data:()=>({year:""}),created(){this.year=(new Date).getFullYear()}},m=a(89);const g=(0,m.Z)(h,[["render",p]]);var y=g;const v=e=>((0,n.dD)("data-v-2f4c2d5c"),e=e(),(0,n.Cn)(),e),w={class:"brand"},f=v((()=>(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 112.8 103.84"},[(0,n._)("path",{class:"a",d:"M52.8,87.77c-18.8-5.2-28.1-26-19.5-48a17.71,17.71,0,0,1,.8-1.9A52.8,52.8,0,0,0,24,54.27c-8.6,22-1.3,43.2,17.5,48.4,18.3,5.1,40.7-6.8,49.8-27.7C80.5,86.87,66.32,91.47,52.8,87.77Z"}),(0,n._)("path",{class:"a",d:"M97.1,95.38a13.88,13.88,0,0,1-3.2-4.9,9.62,9.62,0,0,1-1-4.8c0-2.5.3-11.2,1.6-26.1a194.84,194.84,0,0,0,.5-24.4c-.9-9.1-4.2-24.9-21.7-31.9-20-8-36.6.4-43.3,6.6-7.9,7.3-12.2,11-29.2,18.3a7.46,7.46,0,0,1-.8.4c19-3.9,25.8-5.5,48.6-5.5,8.3,0,16.5,2.5,21.9,7.1,4.5,3.8,6.8,13.6,7.1,19.5s.3,39.2.3,39.2c.2,4.4,2.4,7.8,6.6,10.3a33,33,0,0,0,16.8,4.4,43,43,0,0,0,11.5-1.6A24.54,24.54,0,0,1,97.1,95.38ZM37.4,17.28a2.5,2.5,0,1,1,2.5-2.5,2.48,2.48,0,0,1-2.44,2.5H37.4Z"})],-1))),b={class:"right"},T={key:0},k=v((()=>(0,n._)("span",{class:"sr"},"User",-1))),S={key:1},_={role:"list"},E={"aria-haspopup":"listbox"},C={role:"link"},D=v((()=>(0,n._)("span",{class:"sr"},"User",-1))),A={role:"listbox"},P={for:"theme"},M=["checked","aria-checked"],x={class:"grid"},L=v((()=>(0,n._)("span",{class:"sr"},"Small text",-1))),U=v((()=>(0,n._)("span",{class:"sr"},"Normal text",-1))),I=v((()=>(0,n._)("span",{class:"sr"},"Large text",-1)));function R(e,t,a,o,i,r){const l=(0,n.up)("router-link"),u=(0,n.up)("vue-feather");return(0,n.wg)(),(0,n.iD)("header",null,[(0,n._)("article",null,[(0,n._)("nav",null,[(0,n._)("ul",null,[(0,n._)("li",w,[(0,n.Wm)(l,{to:"/"},{default:(0,n.w5)((()=>[f])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(l,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Articl.net ")])),_:1})])]),(0,n._)("ul",b,[e.isLoggedInMixin?((0,n.wg)(),(0,n.iD)("li",S,[(0,n._)("details",_,[(0,n._)("summary",E,[(0,n._)("div",C,[D,(0,n.Wm)(u,{size:"2rem",type:"user","aria-label":"User"})])]),(0,n._)("ul",A,[(0,n._)("li",null,[(0,n._)("label",P,[(0,n._)("input",{id:"theme",type:"checkbox",name:"theme",role:"switch",checked:"dark"===e.theme,"aria-checked":"dark"===e.theme,onClick:t[0]||(t[0]=e=>r.toggleTheme())},null,8,M),(0,n.Uk)(" "+(0,c.zw)(e.theme),1)])]),(0,n._)("li",null,[(0,n._)("div",x,[(0,n._)("div",null,[(0,n._)("a",{class:"less-margin",href:"#",onClick:t[1]||(t[1]=(0,s.iM)((e=>r.setTextSize(.8)),["prevent"])),onKeyup:t[2]||(t[2]=(0,s.D2)((e=>r.setTextSize(.8)),["enter"]))},[(0,n.Wm)(u,{size:"0.6rem",type:"type","aria-label":"Small text"}),L],32)]),(0,n._)("div",null,[(0,n._)("a",{class:"less-margin",href:"#",onClick:t[3]||(t[3]=(0,s.iM)((e=>r.setTextSize(1)),["prevent"])),onKeyup:t[4]||(t[4]=(0,s.D2)((e=>r.setTextSize(1)),["enter"]))},[(0,n.Wm)(u,{size:"0.8rem",type:"type","aria-label":"Normal text"}),U],32)]),(0,n._)("div",null,[(0,n._)("a",{class:"less-margin",href:"#",onClick:t[5]||(t[5]=(0,s.iM)((e=>r.setTextSize(1.2)),["prevent"])),onKeyup:t[6]||(t[6]=(0,s.D2)((e=>r.setTextSize(1.2)),["enter"]))},[(0,n.Wm)(u,{size:"1rem",type:"type","aria-label":"Large text"}),I],32)])])]),(0,n._)("li",null,[(0,n.Wm)(l,{class:"less-margin",to:"/users/me"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Edit profile ")])),_:1})]),(0,n._)("li",null,[(0,n._)("a",{href:"#",class:"less-margin",onClick:t[7]||(t[7]=(0,s.iM)(((...e)=>r.logout&&r.logout(...e)),["prevent"]))},"Log out")]),(0,n._)("li",null,[(0,n._)("a",{href:"#",class:"less-margin",onClick:t[8]||(t[8]=(0,s.iM)(((...e)=>r.clearLocalData&&r.clearLocalData(...e)),["prevent"]))},"For development: clear data")])])])])):((0,n.wg)(),(0,n.iD)("li",T,[(0,n.Wm)(l,{to:"/login"},{default:(0,n.w5)((()=>[k,(0,n.Wm)(u,{size:"2rem",type:"user","aria-label":"User"})])),_:1})]))])])])])}var $=a(7557),N=a(65);const O=()=>localStorage.clear();let F="";F="192.168.1.130"===window.location.hostname||"localhost"===window.location.hostname?"http://localhost:5000/v1":"articl-vue-dev.herokuapp.com"===window.location.hostname?"https://articl-api-dev.herokuapp.com/v1":"https://api.articl.net/v1";var V=o.Z.create({baseURL:F}),q={name:"TheHeader",components:{VueFeather:$.Z},data:()=>({theme:""}),computed:{...(0,N.Se)({accessTokenExpires:"tokens/accessTokenExpires"})},created(){const e=this.$cookies.get("data-theme");this.theme="dark"!==e?"light":"dark",document.documentElement.setAttribute("data-theme",this.theme),this.$cookies.isKey("font-size")&&this.setTextSize(this.$cookies.get("font-size"))},methods:{async toggleTheme(){try{this.theme="light"===this.theme?"dark":"light",document.documentElement.setAttribute("data-theme",this.theme),this.$cookies.set("data-theme",this.theme),await V({method:"PATCH",url:"/users/me",data:{theme:this.theme,fontSize:this.fontSize}})}catch(e){this.$store.dispatch("errors/setError",e)}},clearLocalData(){try{this.$cookies.keys().forEach((e=>this.$cookies.remove(e))),O()}catch(e){this.$store.dispatch("errors/setError",e)}},async logout(){try{const e=this.$store.getters["tokens/refreshTokenValue"];e&&(await V({method:"POST",url:"/auth/logout",data:{refreshToken:e}}),this.clearLocalData(),this.$router.push("/"))}catch(e){this.$store.dispatch("errors/setError",e)}finally{localStorage.clear(),this.$store.dispatch("users/logout")}},setTextSize(e){document.documentElement.style.setProperty("--font-size",18*e+"px"),this.$cookies.set("--font-size",e)}}};const z=(0,m.Z)(q,[["render",R],["__scopeId","data-v-2f4c2d5c"]]);var B=z;const j={class:"max-container-width"},W={class:"tab",title:"error"},K={class:"info"},G={key:0},H={key:1},Z={key:2},Y={key:3};function J(e,t,a,o,i,r){const l=(0,n.up)("vue-feather");return e.errorTitle?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"modal-container",onClick:t[4]||(t[4]=(0,s.iM)((e=>r.close()),["prevent"])),onKeyup:t[5]||(t[5]=(0,s.D2)((e=>r.close()),["enter"]))},[(0,n._)("div",{open:"",class:"backdrop",onClick:t[0]||(t[0]=(0,s.iM)((()=>{}),["stop"]))}),(0,n._)("dialog",{open:"",class:"modal",onClick:t[3]||(t[3]=(0,s.iM)((()=>{}),["stop"]))},[(0,n._)("article",j,[(0,n._)("header",null,[(0,n.Wm)(l,{size:"20",type:"x-square","aria-label":"Close",class:"close",onClick:t[1]||(t[1]=(0,s.iM)((e=>r.close()),["prevent"]))}),(0,n._)("h2",null,(0,c.zw)(e.errorTitle),1)]),(0,n._)("section",null,[(0,n._)("div",W,[(0,n.Wm)(l,{size:"3rem",type:"alert-triangle"})]),(0,n._)("div",K,[(0,n._)("ul",null,[e.errorFileName?((0,n.wg)(),(0,n.iD)("li",G," Error in file: "+(0,c.zw)(e.errorFileName),1)):(0,n.kq)("",!0),e.errorLineNumber?((0,n.wg)(),(0,n.iD)("li",H," On line: "+(0,c.zw)(e.errorLineNumber),1)):(0,n.kq)("",!0),e.errorMessage?((0,n.wg)(),(0,n.iD)("li",Z," Message: "+(0,c.zw)(e.errorMessage),1)):(0,n.kq)("",!0),e.errorStack?((0,n.wg)(),(0,n.iD)("li",Y,[(0,n._)("small",null,"Stack: "+(0,c.zw)(e.errorStack),1)])):(0,n.kq)("",!0)])])]),(0,n._)("button",{onClick:t[2]||(t[2]=(0,s.iM)((e=>r.close()),["prevent"]))}," OK ")])])],32)):(0,n.kq)("",!0)}var X={components:{VueFeather:$.Z},data:()=>({title:"",showErrorStack:""}),computed:{...(0,N.Se)({errorTitle:"errors/errorTitle",errorMessage:"errors/errorMessage",errorDetail:"errors/errorDetail",errorLineNumber:"errors/errorLineNumber",errorFileName:"errors/errorFileName",errorStack:"errors/errorStack"})},methods:{close(){this.$store.dispatch("errors/clearError")}}};const Q=(0,m.Z)(X,[["render",J],["__scopeId","data-v-44ad95cc"]]);var ee=Q;const te={class:"max-container-width"},ae={class:"tab",title:"success"},oe={class:"info"},se={key:0};function ie(e,t,a,o,i,r){const l=(0,n.up)("vue-feather");return e.successTitle?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"modal-container",onClick:t[3]||(t[3]=(0,s.iM)((e=>r.close()),["prevent"])),onKeyup:t[4]||(t[4]=(0,s.D2)((e=>r.close()),["enter"]))},[(0,n._)("dialog",{open:"",class:"modal",onClick:t[2]||(t[2]=(0,s.iM)((()=>{}),["stop"]))},[(0,n._)("article",te,[(0,n._)("header",null,[(0,n._)("a",{href:"#close","aria-label":"Close",class:"close",onClick:t[0]||(t[0]=(0,s.iM)((e=>r.close()),["prevent"]))}),(0,n._)("h2",null,(0,c.zw)(e.successTitle),1)]),(0,n._)("section",null,[(0,n._)("div",ae,[(0,n.Wm)(l,{size:"3rem",type:"check","aria-label":"Check mark"})]),(0,n._)("div",oe,[(0,n._)("ul",null,[e.successMessage?((0,n.wg)(),(0,n.iD)("li",se,[(0,n._)("small",null,(0,c.zw)(e.successMessage),1)])):(0,n.kq)("",!0)])])]),(0,n._)("button",{onClick:t[1]||(t[1]=(0,s.iM)((e=>r.close()),["prevent"]))}," OK ")])])],32)):(0,n.kq)("",!0)}var re={components:{VueFeather:$.Z},computed:{...(0,N.Se)({successTitle:"modals/successTitle",successMessage:"modals/successMessage",okFunction:"modals/okFunction"})},methods:{close(){this.$store.dispatch("modals/clearSuccess")}}};const ne=(0,m.Z)(re,[["render",ie],["__scopeId","data-v-013bf992"]]);var le=ne,ue={name:"App",components:{TheHeader:B,TheFooter:y,ModalError:ee,ModalSuccess:le},data:()=>({}),mounted(){this.$store.dispatch("tokens/accessTokenValue",this.$cookies.get("accessTokenValue")),this.$store.dispatch("tokens/accessTokenExpires",this.$cookies.get("accessTokenExpires")),this.$store.dispatch("tokens/refreshTokenValue",this.$cookies.get("refreshTokenValue")),this.$store.dispatch("tokens/refreshTokenExpires",this.$cookies.get("refreshTokenExpires"))},methods:{}};const ce=(0,m.Z)(ue,[["render",u]]);var de=ce,pe=a(2483);const he={key:0},me={key:1},ge={key:2},ye={for:"articlUrl"},ve=["aria-busy"],we={for:"title"},fe={key:1,for:"doi"},be={class:"grid"},Te={for:"`nameFirst${index}`"},ke=["id","onUpdate:modelValue","name"],Se={for:"`nameLast${index}`"},_e=["id","onUpdate:modelValue","name"],Ee=["onUpdate:modelValue"],Ce={for:"journal"},De={for:"year"},Ae={for:"month"},Pe={for:"abstract"},Me={for:"type"},xe=(0,n.uE)('<optgroup value="Resources" data-v-dbfa95e2><option value="Review (OA)" data-v-dbfa95e2> Review (OA) </option><option value="Review (OA)" data-v-dbfa95e2> Review (PA) </option><option value="Research (OA)" data-v-dbfa95e2> Research (OA) </option><option value="Research (PA)" data-v-dbfa95e2> Research (PA) </option><option value="Web" data-v-dbfa95e2> Web </option><option value="Images" data-v-dbfa95e2> Images </option><option value="Presentations" data-v-dbfa95e2> Presentations </option><option value="Videos" data-v-dbfa95e2> Videos </option><option value="Podcast" data-v-dbfa95e2> Podcast </option></optgroup>',1),Le=[xe],Ue=["aria-busy"];function Ie(e,t,a,o,i,r){const l=(0,n.up)("input-typeahead"),u=(0,n.up)("loading-placeholder");return(0,n.wg)(),(0,n.iD)("article",null,[i.success?((0,n.wg)(),(0,n.iD)("h1",me," Articl Created ")):((0,n.wg)(),(0,n.iD)("h1",he,(0,c.zw)(i.formAction)+" articl ",1)),(0,n._)("a",{tabindex:"0",href:"",onClick:t[0]||(t[0]=t=>e.$router.push({name:"createArticlPage",query:{slug:i.slug}})),onKeyup:t[1]||(t[1]=(0,s.D2)((t=>e.$router.push({name:"createArticlPage",query:{slug:i.slug}})),["enter"]))},"Create another article",32),i.isLoading||i.success?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("form",ge,[i.id?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("label",ye,[(0,n.Uk)("URL "),(0,n.wy)((0,n._)("input",{id:"articlUrl","onUpdate:modelValue":t[2]||(t[2]=e=>i.articlUrl=e),type:"text",name:"articlUrl"},null,512),[[s.nr,i.articlUrl]])]),(0,n._)("button",{type:"button","aria-busy":i.buttonFetchDisabled,onClick:t[3]||(t[3]=(0,s.iM)((e=>r.getData()),["prevent"]))}," FETCH DATA ",8,ve)],64)),(0,n._)("label",we,[(0,n.Uk)("Title "),(0,n.wy)((0,n._)("input",{id:"title","onUpdate:modelValue":t[4]||(t[4]=e=>i.title=e),name:"title",autocomplete:"off"},null,512),[[s.nr,i.title]])]),i.doi?((0,n.wg)(),(0,n.iD)("label",fe,[(0,n.Uk)("DOI "),(0,n.wy)((0,n._)("input",{id:"doi","onUpdate:modelValue":t[5]||(t[5]=e=>i.doi=e),name:"doi",autocomplete:"off"},null,512),[[s.nr,i.doi]])])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.authors,((e,t)=>((0,n.wg)(),(0,n.iD)("fieldset",{key:e.id},[(0,n._)("div",be,[(0,n._)("label",Te,[(0,n.Uk)("First name "),(0,n.wy)((0,n._)("input",{id:`nameFirst${t}`,"onUpdate:modelValue":t=>e.nameFirst=t,name:`nameFirst${t}`,autocomplete:"off"},null,8,ke),[[s.nr,e.nameFirst]])]),(0,n._)("label",Se,[(0,n.Uk)("Last name "),(0,n.wy)((0,n._)("input",{id:`nameLast${t}`,"onUpdate:modelValue":t=>e.nameLast=t,name:`nameLast${t}`,autocomplete:"off"},null,8,_e),[[s.nr,e.nameLast]])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.affilliations,((t,a)=>((0,n.wg)(),(0,n.iD)("label",{key:t,for:"`affiliation${affilIndex}`"},[(0,n.Uk)("Affiliation "),(0,n.wy)((0,n._)("input",{id:"`affiliation${affilIndex}`","onUpdate:modelValue":t=>e.affilliations[a]=t,name:"`affiliation${affilIndex}`",autocomplete:"off"},null,8,Ee),[[s.nr,e.affilliations[a]]])])))),128))])))),128)),(0,n._)("label",Ce,[(0,n.Uk)("Journal "),(0,n.wy)((0,n._)("input",{id:"journal","onUpdate:modelValue":t[6]||(t[6]=e=>i.journal=e),name:"journal",autocomplete:"off"},null,512),[[s.nr,i.journal]])]),(0,n._)("label",De,[(0,n.Uk)("Publication Year "),(0,n.wy)((0,n._)("input",{id:"year","onUpdate:modelValue":t[7]||(t[7]=e=>i.year=e),name:"year",autocomplete:"off"},null,512),[[s.nr,i.year]])]),(0,n._)("label",Ae,[(0,n.Uk)("Publication Month "),(0,n.wy)((0,n._)("input",{id:"month","onUpdate:modelValue":t[8]||(t[8]=e=>i.month=e),name:"month",autocomplete:"off"},null,512),[[s.nr,i.month]])]),(0,n._)("label",Pe,[(0,n.Uk)("Abstract "),(0,n.wy)((0,n._)("input",{id:"abstract","onUpdate:modelValue":t[9]||(t[9]=e=>i.abstract=e),name:"abstract",autocomplete:"off"},null,512),[[s.nr,i.abstract]])]),(0,n._)("label",Me,[(0,n.Uk)("Link type "),(0,n.wy)((0,n._)("select",{id:"type","onUpdate:modelValue":t[10]||(t[10]=e=>i.type=e),name:"type",autocomplete:"off"},Le,512),[[s.bM,i.type]])]),(0,n.Wm)(l,{src:"/categories/titles",query:"category","input-value":i.slug,"label-value":"Category slug",onUpdateValue:r.onTypeaheadHit,onKeyup:r.onTypeaheadHit},null,8,["input-value","onUpdateValue","onKeyup"]),(0,n._)("button",{type:"button","aria-busy":i.buttonDisabled,onClick:t[11]||(t[11]=(0,s.iM)((e=>r.submitForm(i.id)),["prevent"]))},(0,c.zw)(i.id?"Edit":"Create")+" Articl ",9,Ue)])),(0,n.Wm)(s.uT,{name:"fade",mode:"out-in"},{default:(0,n.w5)((()=>[i.isLoading?((0,n.wg)(),(0,n.j4)(u,{key:0})):(0,n.kq)("",!0)])),_:1})])}const Re=["for"],$e=["id"],Ne=["onMousemove"],Oe=["textContent"];function Fe(e,t,a,o,i,r){const l=(0,n.up)("vue-feather");return a.query?((0,n.wg)(),(0,n.iD)("label",{key:0,for:a.query},[a.labelValue?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)((0,c.zw)(a.labelValue),1)],64)):((0,n.wg)(),(0,n.j4)(l,{key:1,class:"icon",size:"1.5rem",type:"search","aria-label":"Search"})),(0,n.wy)((0,n._)("input",{id:a.query,ref:"input","onUpdate:modelValue":t[0]||(t[0]=t=>e.stringValue=t),type:"text",autocomplete:"off",onKeydown:[t[1]||(t[1]=(0,s.D2)(((...e)=>r.down&&r.down(...e)),["down"])),t[2]||(t[2]=(0,s.D2)(((...e)=>r.up&&r.up(...e)),["up"])),t[3]||(t[3]=(0,s.D2)(((...e)=>r.hit&&r.hit(...e)),["enter"])),t[4]||(t[4]=(0,s.D2)(((...e)=>r.removeItems&&r.removeItems(...e)),["esc"]))],onBlur:t[5]||(t[5]=(...e)=>r.removeItems&&r.removeItems(...e)),onKeyup:t[6]||(t[6]=(...e)=>r.update&&r.update(...e))},null,40,$e),[[s.nr,e.stringValue]]),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.items,((e,a)=>((0,n.wg)(),(0,n.iD)("li",{key:a,class:(0,c.C_)(r.activeClass(a)),onMousedown:t[7]||(t[7]=(...e)=>r.hit&&r.hit(...e)),onMousemove:e=>r.setActive(a)},[(0,n._)("span",{textContent:(0,c.zw)(e)},null,8,Oe)],42,Ne)))),128))])],8,Re)):(0,n.kq)("",!0)}var Ve=a(4806),qe={components:{VueFeather:$.Z},props:{src:{type:String,default:""},query:{type:String,default:""},inputValue:{type:String,default:""},labelValue:{type:String,default:""}},emits:{typeaheadUpdated:null},data:()=>({items:[],current:-1,loading:!1,selectFirst:!0,stringValue:""}),computed:{hasItems(){return this.items.length>0},isEmpty(){return!this.stringValue},isDirty(){return!!this.stringValue}},watch:{inputValue:{handler(e){this.stringValue=e}}},mounted(){this.$refs.input.addEventListener("blur",(()=>{}),!0),this.setActive=(0,Ve.debounce)(this.setActive,10),this.up=(0,Ve.debounce)(this.up,200),this.update=(0,Ve.debounce)(this.update,200),this.down=(0,Ve.debounce)(this.down,200),this.stringValue=this.inputValue},methods:{async update(){try{if(this.cancel(),this.stringValue||(this.$emit("typeaheadUpdated",{field:this.query,value:""}),this.removeItems()),this.loading=!0,this.hit(),this.$emit("typeaheadUpdated",{field:this.query,value:this.stringValue}),this.stringValue.length<2)return;const e=await this.fetchData();this.items=e.data.slice(0,7),this.current=-1,this.loading=!1,this.hit()}catch(e){this.$store.dispatch("errors/setError",e)}},async fetchData(){const e={q:this.stringValue};return V.get(this.src,{params:e})},cancel:()=>{},removeItems(){this.items=[],this.loading=!1},setActive(e){this.current=e},activeClass(e){return{active:this.current===e}},hit(){-1!==this.current&&this.items&&this.items[this.current]&&this.onHit(this.items[this.current])},up(){this.current>0?this.current-=1:-1===this.current?this.current=this.items.length-1:this.current=-1},down(){this.current<this.items.length-1?this.current+=1:this.current=-1},onHit(e){this.stringValue=e,this.$emit("typeaheadUpdated",{field:this.query,value:e})}}};const ze=(0,m.Z)(qe,[["render",Fe],["__scopeId","data-v-08a930c2"]]);var Be=ze;const je={class:"box-placeholder"},We={class:"nav-tabs"};function Ke(e,t,a,o,s,i){return(0,n.wg)(),(0,n.iD)("article",null,[(0,n._)("div",je,[(0,n._)("h2",{class:"text-p line",style:(0,c.j5)({width:i.pickWidth(40,80)+"%"})}," r  ",4),(0,n._)("ul",We,[(0,n._)("li",{class:"text-p line",style:(0,c.j5)({width:i.pickWidth(80,100)+"%"})},"   ",4),(0,n._)("li",{class:"text-p",style:(0,c.j5)({width:i.pickWidth(80,100)+"%"})},"   ",4),(0,n._)("li",{class:"text-p",style:(0,c.j5)({width:i.pickWidth(80,100)+"%"})},"   ",4),(0,n._)("li",{class:"text-p",style:(0,c.j5)({width:i.pickWidth(80,100)+"%"})},"   ",4),(0,n._)("li",{class:"text-p",style:(0,c.j5)({width:i.pickWidth(80,100)+"%"})},"   ",4),(0,n._)("li",{class:"text-p",style:(0,c.j5)({width:i.pickWidth(20,100)+"%"})},"   ",4)])])])}var Ge={name:"LoadingPlaceholder",methods:{pickWidth:(e,t)=>Math.floor(Math.random()*(t-e+1)+e)}};const He=(0,m.Z)(Ge,[["render",Ke],["__scopeId","data-v-82de58cc"]]);var Ze=He,Ye={namespaced:!0,state:()=>({allTypes:["Review (OA)","Review (PA)","Research (OA)","Research (PA)","Images","Presentations","Videos","Web"],text:"",authors:"",yearComparisons:["after","before","exactly"],journal:"",paramsCurrent:{},title:"",types:[],year:1944,yearComparison:"after",years:[],yearsStart:1944}),mutations:{SET_TEXT:(e,t)=>{e.text=t},SET_AUTHORS:(e,t)=>{e.authors=t},SET_JOURNAL:(e,t)=>{e.journal=t},SET_TYPES:(e,t)=>{e.types=t},SET_TITLE:(e,t)=>{e.title=t},SET_YEAR:(e,t)=>{e.year=t},SET_YEAR_COMPARISON:(e,t)=>{e.yearComparison=t}},actions:{text:(e,t)=>{e.commit("SET_TEXT",t)},authors:(e,t)=>{e.commit("SET_AUTHORS",t)},journal:(e,t)=>{e.commit("SET_JOURNAL",t)},title:(e,t)=>{e.commit("SET_TITLE",t)},types:(e,t)=>{e.commit("SET_TYPES",t.slice())},year:({commit:e,state:t},a)=>{a===t.yearsStart&&e("SET_YEAR_COMPARISON",a),e("SET_YEAR",a)},yearComparison:(e,t)=>{e.commit("SET_YEAR_COMPARISON",t)},reset:({commit:e},t)=>{e("SET_TEXT",t),e("SET_AUTHORS",t),e("SET_JOURNAL",t),e("SET_TITLE",t),e("SET_TYPES",[]),e("SET_YEAR_COMPARISON",t),e("SET_YEAR",t)}},getters:{text:e=>e.text,title:e=>e.title,allTypes:e=>e.allTypes,authors:e=>e.authors,journal:e=>e.journal,paramsCurrent:e=>e.paramsCurrent,types:e=>e.types,year:e=>e.year,yearComparison:e=>e.yearComparison,yearComparisons:e=>e.yearComparisons,years:e=>[...Array((new Date).getUTCFullYear()-(e.yearsStart-1)).keys()].map((t=>e.yearsStart+t+1)).reverse(),yearsStart:e=>e.yearsStart,params:e=>({...e.text&&{text:e.text},...e.title&&{title:e.title},...e.journal&&{journal:e.journal},...e.authors&&{authors:e.authors},...Number(e.year)!==Number(e.yearsStart)&&{yearComparison:e.yearComparison,year:e.year},...e.types&&e.types.length!==e.allTypes.length&&{types:e.types},...e.page&&1!==Number(e.page)&&{page:e.page},...e.limit&&5!==Number(e.limit)&&{limit:e.limit}})}},Je={namespaced:!0,state:()=>({articls:[],articlTypes:[],categories:[],notes:[],treeLevel:void 0,breadcrumbs:[]}),mutations:{SET_CATEGORIES:(e,t)=>{e.categories=t},SET_ARTICLS:(e,t)=>{e.articls=t},SET_ARTICL_TYPES:(e,t)=>{e.articlTypes=t},SET_NOTES:(e,t)=>{e.notes=t},SET_BREADCRUMBS:(e,t)=>{e.breadcrumbs=t}},actions:{categories:(e,t)=>{e.commit("SET_CATEGORIES",t)},articls:(e,t)=>{e.commit("SET_ARTICLS",t)},articlTypes:(e,t)=>{e.commit("SET_ARTICL_TYPES",t)},notes:(e,t)=>{e.commit("SET_NOTES",t)},breadcrumbs:(e,t)=>{e.commit("SET_BREADCRUMBS",t)}},getters:{categories:e=>e.categories,articls:e=>e.articls,articlTypes:e=>e.articlTypes,notes:e=>e.notes,treeLevel:e=>e.breadcrumbs.length-1,breadcrumbs:e=>e.breadcrumbs}},Xe={namespaced:!0,state:()=>({errorMessage:void 0,errorTitle:void 0,errorFileName:void 0,errorLineNumber:void 0,errorStack:void 0,successTitle:void 0,successMessage:void 0,okFunction:void 0}),mutations:{SET_OK_FUNCTION:(e,t)=>{e.okFunction=t},SET_SUCCESS_MESSAGE:(e,t)=>{e.successMessage=t},SET_ERROR_TITLE:(e,t)=>{e.errorTitle=t},SET_ERROR_MESSAGE:(e,t)=>{e.errorMessage=t},SET_ERROR_FILE_NAME:(e,t)=>{e.errorFileName=t},SET_ERROR_LINE_NUMBER:(e,t)=>{e.errorLineNumber=t},SET_ERROR_STACK:(e,t)=>{e.errorStack=t}},actions:{setError:(e,t)=>{let a="Error",o="Unknown error",s="",i="",r="";t.okFunction||e.commit("SET_OK_FUNCTION",(()=>{})),t?.response?.data?.message?o=t.response.data.message:t?.message?o=t?.message:"string"===typeof t&&t.length>0&&(o=t),t?.response?.data?.fileName?s=t.response.data.fileName:t?.fileName&&(s=t.fileName),t?.response?.data?.stack?(r=t.response.data.stack,r=`${r.slice(0,100)} ${r.slice(100)}`):t?.stack&&(r=t.stack,r=`${r.slice(0,100)} ${r.slice(100)}`),t?.response?.data?.lineNumber?i=t.response.data.lineNumber:t?.lineNumber&&(i=t.message),t?.response?.data?.error&&"string"===typeof t?.response?.data?.error?a=t.response.data.error:t?.response?.data?.name?a=t.response.data.name:t?.name&&(a=t.name),e.commit("SET_ERROR_TITLE",a),e.commit("SET_ERROR_MESSAGE",o),e.commit("SET_ERROR_FILE_NAME",s),e.commit("SET_ERROR_LINE_NUMBER",i),e.commit("SET_ERROR_STACK",r)},clearError:e=>{e.commit("SET_ERROR_TITLE",""),e.commit("SET_ERROR_MESSAGE",""),e.commit("SET_ERROR_FILE_NAME",""),e.commit("SET_ERROR_LINE_NUMBER",""),e.commit("SET_ERROR_STACK","")},setMetaDescriptionAndDocumentTitle:(e,{title:t,description:a})=>{e.commit("SET_DOCUMENT_TITLE",t),e.commit("SET_META_DESCRIPTION",a),document.title=t;let o=document.querySelector('meta[name="description"]');o?o.content=a:(o=document.createElement("meta"),o.name="description",document.querySelectorAll("head")[0].appendChild(o).setAttribute("content",a))}},getters:{errorMessage:e=>e.errorMessage,errorTitle:e=>e.errorTitle,errorFileName:e=>e.errorFileName,errorLineNumber:e=>e.errorLineNumber,errorStack:e=>e.errorStack}},Qe={namespaced:!0,state:()=>({description:void 0,title:void 0}),mutations:{SET_DOCUMENT_TITLE:(e,t)=>{e.title=t},SET_META_DESCRIPTION:(e,t)=>{e.description=t}},actions:{setMetaDescriptionAndDocumentTitle:(e,{title:t,description:a})=>{e.commit("SET_DOCUMENT_TITLE",t),e.commit("SET_META_DESCRIPTION",a)}},getters:{title:e=>e.title,description:e=>e.description}},et={namespaced:!0,state:()=>({successMessage:void 0,successTitle:void 0,errorMessage:void 0,errorTitle:void 0}),mutations:{SET_SUCCESS_TITLE:(e,t)=>{e.successTitle=t},SET_SUCCESS_MESSAGE:(e,t)=>{e.successMessage=t},SET_ERROR_TITLE:(e,t)=>{e.errorTitle=t},SET_ERROR_MESSAGE:(e,t)=>{e.errorMessage=t}},actions:{setSuccessTitle:(e,t)=>{e.commit("SET_SUCCESS_TITLE",t)},setSuccessMessage:(e,t)=>{e.commit("SET_SUCCESS_MESSAGE",t)},clearSuccess:e=>{e.commit("SET_SUCCESS_TITLE",""),e.commit("SET_SUCCESS_MESSAGE","")},setErrorMessage:(e,t)=>{e.commit("SET_ERROR_MESSAGE",t)},clearError:e=>{e.commit("SET_ERROR_TITLE",""),e.commit("SET_ERROR_MESSAGE","")}},getters:{successMessage:e=>e.successMessage,successTitle:e=>e.successTitle,errorMessage:e=>e.errorMessage,errorTitle:e=>e.errorTitle}},tt={namespaced:!0,state:()=>({accessTokenExpires:r().get("accessTokenExpires"),accessTokenValue:r().get("accessTokenValue"),refreshTokenExpires:r().get("refreshTokenExpires"),refreshTokenValue:r().get("refreshTokenValue")}),mutations:{SET_ACCESS_TOKEN_VALUE:(e,t)=>{e.accessTokenValue=t},SET_ACCESS_TOKEN_EXPIRES:(e,t)=>{e.accessTokenExpires=t},SET_REFRESH_TOKEN_VALUE:(e,t)=>{e.refreshTokenValue=t},SET_REFRESH_TOKEN_EXPIRES:(e,t)=>{e.refreshTokenExpires=t}},actions:{setTokens:(e,t)=>{e.commit("SET_ACCESS_TOKEN_EXPIRES",t.access.expires),e.commit("SET_ACCESS_TOKEN_VALUE",t.access.token),e.commit("SET_REFRESH_TOKEN_EXPIRES",t.refresh.expires),e.commit("SET_REFRESH_TOKEN_VALUE",t.refresh.token)},accessTokenExpires:(e,t)=>{e.commit("SET_ACCESS_TOKEN_EXPIRES",t)},accessTokenValue:(e,t)=>{e.commit("SET_ACCESS_TOKEN_VALUE",t)},refreshTokenExpires:(e,t)=>{e.commit("SET_REFRESH_TOKEN_EXPIRES",t)},refreshTokenValue:(e,t)=>{e.commit("SET_REFRESH_TOKEN_VALUE",t)}},getters:{tokens:e=>({accessTokenExpires:1e3*e.accessTokenExpires,accessTokenValue:e.accessTokenValue,refreshTokenExpires:1e3*e.refreshTokenExpires,refreshTokenValue:e.refreshTokenValue}),accessTokenExpires:e=>1e3*e.accessTokenExpires,accessTokenValue:e=>e.accessTokenValue,refreshTokenExpires:e=>1e3*e.refreshTokenExpires,refreshTokenValue:e=>e.refreshTokenValue}};const at=e=>({numUpper:e.length-e.replace(/[A-Z]/g,"").length,numLower:e.length-e.replace(/[a-z]/g,"").length,numDigit:e.length-e.replace(/[0-9]/g,"").length,numSpecial:e.length-e.replace(/\W|_/g,"").length}),ot=e=>{if(!e)return 0;const t=at(e),a=t.numUpper>0?1:0,o=t.numLower>0?1:0,s=t.numDigit>0?1:0,i=e.length>7?1:0;return a+o+s+i},st=e=>!!e&&e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),it=async({username:e,password:t})=>{try{const a=await V.post("/auth/login",{username:e,password:t});return a}catch(a){throw new Error(a)}},rt=async e=>{try{await V.post("/auth/logout",{refreshToken:e})}catch(t){throw new Error(t)}},nt=e=>!Number.isNaN(parseFloat(e))&&!Number.isNaN(e-0),lt=(e,t)=>e&&t?e.toLowerCase().indexOf(t.toLowerCase()):-1,ut=(e,t,a)=>{if(!t&&"prefix"===a)return e;if(!t&&"prefix"!==a)return"";const o=lt(e,t);return"prefix"===a?e.slice(0,Math.max(0,o)):"term"===a?e.substring(o,o+t.length):"suffix"===a?e.slice(Math.max(0,o+t.length)):e},ct=e=>{const t=JSON.parse(JSON.stringify(e));return t.access.token=e.access.token,t.access.expires=Date.parse(e.access.expires),t.access.token=e.access.token,t.refresh.expires=Date.parse(e.refresh.expires),t};var dt={namespaced:!0,state:()=>({isEmailVerified:void 0,username:void 0,id:void 0,user:void 0}),mutations:{SET_USER(e,t){e.user=t,e.username=t.username,e.id=t.id},CLEAR_USER(e){e.username="",e.id=null,e.authenticated=!1}},actions:{setUser:(e,t)=>{e.commit("SET_USER",t)},async login({dispatch:e},{username:t,password:a}){try{const o=await it({username:t,password:a}),{data:s}=o,i=ct(s.tokens);e("tokens/setTokens",i,{root:!0})}catch(o){throw new Error(o)}},async logout({commit:e,state:t}){try{const{refreshToken:a}=t;await rt({refreshToken:a}),e("CLEAR_USER")}catch(a){throw new Error(a)}}},getters:{isEmailVerified:e=>e.isEmailVerified,user:e=>e.user,id:e=>e.id,username:e=>e.username}},pt=(0,N.MT)({namespaced:!0,modules:{articlsParams:Ye,categoryPages:Je,errors:Xe,modals:et,metas:Qe,tokens:tt,users:dt}});const ht="errors/setError",mt=e=>{let t=e;return"/"===e.charAt(e.length-1)&&(t=e.slice(0,Math.max(0,e.length-1))),t.slice(Math.max(0,t.lastIndexOf("/")+1))},gt=e=>{try{if(e.includes("pmc"))return"pmc";if(e.includes("pubmed."))return"pubmed"}catch(t){pt.dispatch(ht,t)}return""},yt=e=>{if(!e.querySelector("surname").textContent)return"";let t=e.querySelector("surname")?`${e.querySelector("surname").textContent} `:"";return t+=e.querySelector("given-names")?`${e.querySelector("given-names").textContent} `:"",t+=e.querySelector("degrees")?`${e.querySelector("degrees").textContent}<br><br>`:"",t},vt=e=>{if(!e.querySelector("LastName").textContent)return"";let t="";return t+=e.querySelector("LastName")?e.querySelector("LastName").textContent:"",t+=e.querySelector("ForeName")?e.querySelector("ForeName").textContent:"<br><br>",t},wt=e=>{if(!e.querySelector("LastName")?.textContent)return{};let t=e.querySelectorAll("Affiliation");return t=[...t],{nameFirst:e.querySelector("ForeName")?e.querySelector("ForeName")?.textContent:"",nameLast:e.querySelector("LastName")?.textContent,affilliations:t.map((e=>e.textContent))}},ft=async e=>{const t="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/",a="efetch",o=gt(e),s=mt(e),i="xml",r=new Request(`${t}${a}.fcgi?db=${o}&id=${s}&rettype=abstract&retmode=${i}`),n=await fetch(r),l=await n.text(),u=(new DOMParser).parseFromString(l,"application/xml"),c={authorsOrig:"",authors:[]};switch(o){case"pmc":{c.title=u.querySelectorAll("article-title")[0].textContent;const e=u.querySelectorAll("contrib");e.forEach((e=>{c.authorsOrig+=yt(e)}));const t=u.querySelectorAll("aff");t.forEach((e=>{c.affiliation+=`${e.textContent}<br><br>`})),c.journal=u.querySelectorAll("journal-title")[0].textContent,c.year=u.querySelectorAll("pub-date")[0].querySelectorAll("year")[0].textContent,c.month=u.querySelectorAll("pub-date")[0].querySelectorAll("month")[0].textContent,c.abstract=u.querySelectorAll("abstract")[0].textContent;break}case"pubmed":{try{c.title=u.querySelectorAll("ArticleTitle")[0].textContent}catch(d){throw new Error(d)}c.doi=u.querySelectorAll("[IdType=doi]")[0].textContent;const e=u.querySelectorAll("Author");e.forEach((e=>{c.authors.push(wt(e)),c.authorsOrig+=vt(e)})),c.affiliation=u.querySelectorAll("Affiliation")[0].textContent,c.journal=u.querySelectorAll("Title")[0].textContent,c.year=u.querySelectorAll("PubMedPubDate")[0].querySelectorAll("Year")[0].textContent,c.month=u.querySelectorAll("PubMedPubDate")[0].querySelectorAll("Month")[0].textContent,c.abstract=u.querySelectorAll("Abstract")[0].textContent;break}default:throw new Error("Unknown function called in scraper")}return c};async function bt(e){const t=`https://cors-anywhere.herokuapp.com/${e}`,a=gt(e),o=await fetch(t),s=await o.text(),i=new DOMParser,r=i.parseFromString(s,"text/html"),n={};switch(a){case"pmc":try{n.title=r.querySelectorAll('h1[class="content-title"]')[0].textContent,n.authors=r.querySelectorAll('[class="contrib-group fm-author"]')?r.querySelectorAll('[class="contrib-group fm-author"]')[0].textContent:"";const e=r.querySelectorAll('[class="fm-affl"]');e.forEach((e=>{n.affiliation+=`${e.textContent}<br><br>`})),n.journal=r.querySelectorAll('li[class="archive"]')[0].textContent,n.year=r.querySelectorAll('li[class="issue-page"]')[0].textContent,n.abstract=r.querySelectorAll('[class="tsec sec"]')[0].textContent}catch(l){throw new Error(l)}break;case"pubmed":try{n.title=r.querySelectorAll('[class="heading-title"]')[0].textContent,n.authors=r.querySelectorAll('[class="authors-list"]')?r.querySelectorAll('[class="authors-list"]')[0].textContent:"",n.affiliation=r.querySelectorAll('[class="affiliations"] ul')[0].textContent,n.journal=r.querySelectorAll("#full-view-journal-trigger")[0].textContent;const e=r.querySelectorAll('span[class="cit"]')[0].textContent;[n.year]=e.split(" ");const t=r.querySelectorAll('span[class="cit"]')[0].textContent;[,n.month]=t.split(" "),n.abstract=r.querySelectorAll("#enc-abstract")[0].textContent}catch(l){this.$store.dispatch("errors/setError",l)}break;default:throw new Error("Unknown condition passed to scraper.")}}const Tt=e=>{switch(new URL(e).hostname){case"pubmed.ncbi.nlm.nih.gov":return ft(e);case"www.ncbi.nlm.nih.gov":return ft(e);case"pubs.rsna.org":return Promise.reject(new Error("pubs.rsna.org not implemented"));case"www.ajronline.org":return Promise.reject(new Error("www.ajronline.org not implemented"));case"www.jultrasoundmed.org":return Promise.reject(new Error("wwww.jultrasoundmed.org not implemented"));case"jnm.snmjournals.org":return Promise.reject(new Error("jnm.snmjournals.org not implemented"));case"www.ajnr.org":return Promise.reject(new Error("wwww.ajnr.org not implemented"));case"www.jvir.org":return Promise.reject(new Error("www.jvir.org not implemented"));case"www.youtube.com":return Promise.reject(new Error("wwww.youtube.com not implemented"));case"journals.aps.org":return ft(e);case"journals.xxxxx.org":return bt(e);default:return Promise.reject(new Error("Unknown domain: not implemented"))}},kt=async e=>Tt(e),St=e=>{document.title=e},_t=e=>{let t=document.querySelector('meta[name="description"]');t?t.content=e:(t=document.createElement("meta"),t.name="description",document.getElementsByTagName("head")[0].appendChild(t).setAttribute("content",e))},Et=e=>{St(e.title),_t(e.description),pt.dispatch("metas/setMetaDescriptionAndDocumentTitle",{title:e.title,description:e.description})};var Ct={name:"EditArticlPage",components:{LoadingPlaceholder:Ze,inputTypeahead:Be},props:{editId:{type:String,default:""}},data(){return{id:"",abstract:"",affiliations:"",doi:"",articlUrl:"",authorsOrig:"",authors:[],buttonDisabled:!1,buttonFetchDisabled:!1,slug:this.$route.query.slug,formAction:"",isLoading:!0,journal:"",month:"",success:!1,title:"",type:"Review (OA)",year:""}},mounted(){this.id=this.editId,this.formAction=this.id?"Edit":"Create",this.id?this.getCurrentArticl(this.id):(this.slug=this.$route.query.slug,this.onTypeaheadHit({value:this.slug}),this.isLoading=!1),Et({title:this.formAction})},methods:{async getCurrentArticl(e){try{this.isLoading=!0;const t=await this.getArticl(e);Object.assign(this,t.data),this.isLoading=!1}catch(t){this.$store.dispatch("errors/setError",t)}},async getData(){if(this.articlUrl)try{this.buttonFetchDisabled=!0;const e=await kt(this.articlUrl);e&&Object.assign(this,e)}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.buttonFetchDisabled=!1}else this.$store.dispatch("errors/setError","Please enter a URL")},resetFormErrors(){this.success=null,this.result=null,this.errorMessage=""},checkForm(){this.resetFormErrors();let e=!0;return""===this.title?(this.errorMessage="Please enter a title.",e=!1):""===this.authors?(this.errorMessage="Please enter author names.",e=!1):""===this.type&&(this.errorMessage="Please choose a type.",e=!1),e},async submitForm(e){const t=`/articls/${e}`;try{if(this.resetFormErrors(),!0===this.checkForm()){this.buttonDisabled=!0;const a=e?"PUT":"POST",o=await V({method:a,url:t,data:{abstract:this.abstract,affiliation:this.affiliation,articlUrl:this.articlUrl,type:this.type,authors:this.authors,slug:this.slug,journal:this.journal,month:this.month,title:this.title,year:this.year}});this.success=!0,this.abstract=o.data.abstract,this.affiliations=o.data.affiliations,this.doi=o.data.doi,this.articlUrl=o.data.articlUrl,this.authorsOrig=o.data.authorsOrig,this.authors=o.data.authors,this.journal=o.data.journal,this.month=o.data.month,this.title=o.data.title,this.type=o.data.type,this.year=""}else this.$store.dispatch("errors/setError",this.errorMessage)}catch(a){this.$store.dispatch("errors/setError",a)}finally{this.buttonDisabled=!1}},async getArticl(e){return V({method:"GET",url:`/articls/${e}`})},onTypeaheadHit(e){this.slug=e.value}}};const Dt=(0,m.Z)(Ct,[["render",Ie],["__scopeId","data-v-dbfa95e2"]]);var At=Dt;const Pt=(0,n._)("h1",null,"Delete Articl",-1),Mt=["aria-busy"];function xt(e,t,a,o,s,i){return(0,n.wg)(),(0,n.iD)("article",null,[Pt,(0,n._)("p",null,'Really delete "'+(0,c.zw)(a.title)+'"?',1),(0,n._)("form",null,[a.id?((0,n.wg)(),(0,n.iD)("button",{key:0,"aria-busy":e.buttonDisabled,onClick:t[0]||(t[0]=e=>i.deleteArticl())}," Delete ",8,Mt)):(0,n.kq)("",!0)])])}var Lt={name:"DeleteArticl",components:{},props:{id:{default:()=>"",type:String},title:{default:()=>"",type:String}},data:()=>({buttonDisabled:!1}),mounted(){},methods:{async deleteArticl(){try{this.buttonDisabled=!0,await this.submitDelete(this.id),this.$store.dispatch("modals/setSuccessTitle","Deletion successful."),this.$store.dispatch("modals/setSuccessMessage",`The articl "${this.title}" has been permanently deleted.`)}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.buttonDisabled=!1}},async submitDelete(e){return V({method:"DELETE",url:"/articls",data:{id:e}})}}};const Ut=(0,m.Z)(Lt,[["render",xt]]);var It=Ut;const Rt=(0,n._)("h1",null,"Delete Category",-1),$t=["aria-busy"];function Nt(e,t,a,o,i,r){return(0,n.wg)(),(0,n.iD)("article",null,[Rt,(0,n._)("p",null,'Really delete "'+(0,c.zw)(e.title)+'"? This will remove '+(0,c.zw)(e.categories.length)+" descendent categories from category navigation.",1),(0,n._)("form",null,[e.slug?((0,n.wg)(),(0,n.iD)("button",{key:0,"aria-busy":e.buttonDisabled,onClick:t[0]||(t[0]=(0,s.iM)((e=>r.deleteCategory()),["prevent"]))}," Delete ",8,$t)):(0,n.kq)("",!0)])])}var Ot={name:"DeleteCategory",components:{},data:()=>({buttonDisabled:!1,categories:[],title:"",slug:"",parentSlug:"",id:""}),params:{},mounted(){this.slug=this.$route.params.slug,this.getCurrentCategory(this.slug)},methods:{async getCurrentCategory(e){try{this.isLoading=!0;const t=await this.getCategory(e);Object.assign(this,t.data),this.title=t.data?.category[0]?.title,this.parentSlug=t.data?.category[0]?.parentSlug,this.id=t.data?.category[0]?.id,this.isLoading=!1}catch(t){this.$store.dispatch("errors/setError",t)}},async getCategory(e){return V({method:"GET",url:`/resource/${e}`})},async deleteCategory(){try{this.buttonDisabled=!0,await this.submitDelete(this.id),this.$store.dispatch("modals/setSuccessTitle","Deletion successful."),this.$store.dispatch("modals/setSuccessMessage",`The category "${this.title}" has been permanently deleted.`),0===Number(this.parentSlug)?this.$router.push({name:"homePage"}):this.$router.push({name:"categoryPage",params:{slug:this.parentSlug}})}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.buttonDisabled=!1}},async submitDelete(e){return V({method:"DELETE",url:"/categories",data:{id:e}})}}};const Ft=(0,m.Z)(Ot,[["render",Nt]]);var Vt=Ft;const qt={key:0},zt={key:1},Bt={key:0},jt={for:"title"},Wt={for:"slug"},Kt={for:"parentSlug"},Gt={for:"description"},Ht=["aria-busy"],Zt={key:0};function Yt(e,t,a,o,i,r){const l=(0,n.up)("card-notification"),u=(0,n.up)("loading-placeholder");return(0,n.wg)(),(0,n.iD)("article",null,[e.success?((0,n.wg)(),(0,n.iD)("h1",zt," Success ")):((0,n.wg)(),(0,n.iD)("h1",qt,(0,c.zw)(e.formAction)+" category ",1)),e.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[e.success?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(l,{"success-message":"Category created."}),(0,n._)("a",{href:"",onClick:t[5]||(t[5]=t=>e.$router.go()),onKeyup:t[6]||(t[6]=(0,s.D2)((t=>e.$router.go()),["enter"]))},"Create another category",32)],64)):((0,n.wg)(),(0,n.iD)("form",Bt,[(0,n._)("label",jt,[(0,n.Uk)("Title "),(0,n.wy)((0,n._)("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),type:"text",name:"title"},null,512),[[s.nr,e.title]])]),(0,n._)("label",Wt,[(0,n.Uk)("Slug "),(0,n.wy)((0,n._)("input",{id:"slug","onUpdate:modelValue":t[1]||(t[1]=e=>r.slug=e),readonly:"",type:"text",name:"slug"},null,512),[[s.nr,r.slug]])]),(0,n._)("label",Kt,[(0,n.Uk)("Parent slug "),(0,n.wy)((0,n._)("input",{id:"parentSlug","onUpdate:modelValue":t[2]||(t[2]=t=>e.parentSlug=t),type:"text",name:"parentSlug"},null,512),[[s.nr,e.parentSlug]])]),(0,n._)("label",Gt,[(0,n.Uk)("Description "),(0,n.wy)((0,n._)("textarea",{id:"description","onUpdate:modelValue":t[3]||(t[3]=t=>e.description=t),name:"description",rows:"10",cols:"70"},null,512),[[s.nr,e.description]])]),(0,n._)("button",{type:"submit","aria-busy":e.buttonDisabled,onClick:t[4]||(t[4]=(0,s.iM)((t=>r.submitForm(e.id)),["prevent"]))},[e.buttonDisabled?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",Zt,(0,c.zw)(e.formAction)+" category",1))],8,Ht)]))],64)),(0,n.Wm)(s.uT,{name:"fade",mode:"out-in"},{default:(0,n.w5)((()=>[e.isLoading?((0,n.wg)(),(0,n.j4)(u,{key:0})):(0,n.kq)("",!0)])),_:1})])}const Jt={class:"tab",title:"success"},Xt={class:"info"};function Qt(e,t,a,o,s,i){const r=(0,n.up)("vue-feather");return(0,n.wg)(),(0,n.iD)("section",null,[(0,n._)("div",Jt,[(0,n.Wm)(r,{size:"60",type:"check","aria-label":"Check mark"})]),(0,n._)("div",Xt,[(0,n._)("aside",null,(0,c.zw)(a.successMessage),1)])])}var ea={components:{VueFeather:$.Z},props:{successMessage:{type:String,default:""}},data:()=>({title:""})};const ta=(0,m.Z)(ea,[["render",Qt],["__scopeId","data-v-421d8bc4"]]);var aa=ta,oa={name:"CreateCategoryPage",components:{CardNotification:aa,LoadingPlaceholder:Ze},data:()=>({buttonDisabled:!1,categories:[],chrs:0,description:null,errorMessage:"",formAction:"",isLoading:!0,oldSlug:null,parentSlug:null,result:null,success:!1,title:null}),computed:{slug(){if(!this.title)return"";let e=this.title.replace(/\s/g,"-");return e=e.toLowerCase(),e=encodeURIComponent(e),e=e.replace(/'/g,"%27"),e}},mounted(){this.parentSlug=this.$route.query.parentSlug,this.id=this.$route.params.id,this.formAction=this.id?"Edit":"Create",this.id?this.getCurrentCategory(this.id):this.isLoading=!1},params:{id:String},methods:{async getCurrentCategory(e){try{this.isLoading=!0;const t=await this.getCategory(e);Object.assign(this,t.data),this.slug=decodeURIComponent(this.slug),this.oldSlug=decodeURIComponent(t.data.slug),this.isLoading=!1}catch(t){this.$store.dispatch("errors/setError",t)}},async getCategory(e){return V({method:"GET",url:`/categories/${e}`})},resetFormErrors(){this.success=null,this.result=null,this.errorMessage=""},checkForm(){this.resetFormErrors();let e=!0;return this.title?this.slug?this.parentSlug||(this.parentIdInvalid=!0,this.errorMessage="Please select a parent category.",e=!1):(this.slugInvalid=!0,this.errorMessage="Please enter a slug.",e=!1):(this.titleInvalid=!0,this.errorMessage="Please enter a title.",e=!1),e},async submitForm(e){try{if(this.resetFormErrors(),!0===this.checkForm()){this.buttonDisabled=!0;const t=e?"PUT":"POST",a=e||"",o={title:this.title,slug:this.slug,description:this.description,parentSlug:this.parentSlug};e&&(o.oldSlug=this.oldSlug),await V({method:t,url:`/categories/${a}`,data:o}),this.success=!0,this.$store.dispatch("modals/setSuccessTitle","Category ppdated.");const s=this.id?"updated":"created";this.$store.dispatch("modals/setSuccessMessage",`The category was successfully ${s}.`),0===Number(this.parentSlug)?this.$router.push({name:"homePage"}):this.$router.push({name:"categoryPage",params:{slug:this.parentSlug}})}else this.$store.dispatch("errors/setError",this.errorMessage)}catch(t){this.$store.dispatch("errors/setError",t)}finally{this.buttonDisabled=!1}},removePunctuation(e){return e.replace(/[^\w\s']|_/g,"").replace(/\s+/g," ")}}};const sa=(0,m.Z)(oa,[["render",Yt]]);var ia=sa;const ra={key:0},na={key:0,class:"nav-tabs"},la=["onClick","onKeyup"],ua=["onClick","onKeyup"],ca=["onClick","onKeyup"],da=["onClick","onKeyup"];function pa(e,t,a,o,i,r){const l=(0,n.up)("the-breadcrumbs"),u=(0,n.up)("router-link"),d=(0,n.up)("router-view"),p=(0,n.up)("directory-actions"),h=(0,n.up)("loading-placeholder");return i.isLoading?((0,n.wg)(),(0,n.j4)(h,{key:1})):((0,n.wg)(),(0,n.iD)("article",ra,[(0,n.Wm)(l),(0,n._)("h2",null,(0,c.zw)(i.title),1),e.treeLevel>1?((0,n.wg)(),(0,n.iD)("ul",na,[(0,n.Wm)(u,{custom:"",to:{name:"TabArticls"}},{default:(0,n.w5)((({isActive:e,navigate:t})=>[(0,n._)("li",{class:(0,c.C_)({active:e})},[(0,n._)("a",{href:"",onClick:(0,s.iM)((e=>t()),["prevent"]),onKeyup:(0,s.D2)((0,s.iM)((e=>t()),["prevent"]),["enter"])}," Articls ",40,la)],2)])),_:1}),(0,n.Wm)(u,{custom:"",to:{name:"TabNotes"}},{default:(0,n.w5)((({isActive:e,navigate:t})=>[(0,n._)("li",{class:(0,c.C_)({active:e})},[(0,n._)("a",{href:"",onClick:(0,s.iM)((e=>t()),["prevent"]),onKeyup:(0,s.D2)((0,s.iM)((e=>t()),["prevent"]),["enter"])}," Notes ",40,ua)],2)])),_:1}),(0,n.Wm)(u,{custom:"",to:{name:"TabBlogs"}},{default:(0,n.w5)((({isActive:e,navigate:t})=>[(0,n._)("li",{class:(0,c.C_)({active:e})},[(0,n._)("a",{href:"",onClick:(0,s.iM)((e=>t()),["prevent"]),onKeyup:(0,s.D2)((0,s.iM)((e=>t()),["prevent"]),["enter"])}," Blogs ",40,ca)],2)])),_:1}),(0,n.Wm)(u,{custom:"",to:{name:"TabQuestionsAnswers"}},{default:(0,n.w5)((({isActive:e,navigate:t})=>[(0,n._)("li",{class:(0,c.C_)({active:e})},[(0,n._)("a",{href:"",onClick:(0,s.iM)((e=>t()),["prevent"]),onKeyup:(0,s.D2)((0,s.iM)((e=>t()),["prevent"]),["enter"])}," Q&A ",40,da)],2)])),_:1})])):(0,n.kq)("",!0),(0,n.Wm)(d,{class:(0,c.C_)({"nav-content":e.treeLevel>1})},null,8,["class"]),e.isLoggedInMixin?((0,n.wg)(),(0,n.j4)(p,{key:1,level:e.treeLevel},null,8,["level"])):(0,n.kq)("",!0)]))}const ha={class:"row-admin-box actions-column box"},ma=(0,n._)("small",null,"New Category Here",-1),ga=(0,n._)("small",null,"New Articl Here",-1);function ya(e,t,a,o,s,i){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",ha,[2!==a.level?((0,n.wg)(),(0,n.j4)(r,{key:0,to:{name:"createCategoryPage",query:{parentSlug:e.$route.params.slug?e.$route.params.slug:"0"}},role:"button"},{default:(0,n.w5)((()=>[ma])),_:1},8,["to"])):(0,n.kq)("",!0),2===a.level?((0,n.wg)(),(0,n.j4)(r,{key:1,to:{name:"createArticlPage",query:{slug:e.$route.params.slug?e.$route.params.slug:"0"}},role:"button"},{default:(0,n.w5)((()=>[ga])),_:1},8,["to"])):(0,n.kq)("",!0)])}var va={name:"DirectoryActions",props:{level:{type:Number,default:0}}};const wa=(0,m.Z)(va,[["render",ya]]);var fa=wa;const ba={"aria-label":"breadcrumb"},Ta={key:1};function ka(e,t,a,o,s,i){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",ba,[(0,n._)("ul",null,[(0,n._)("li",null,[(0,n.Wm)(r,{to:{name:"homePage"}},{default:(0,n.w5)((()=>[(0,n.Uk)(" Home ")])),_:1})]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.breadcrumbs,((t,a)=>((0,n.wg)(),(0,n.iD)("li",{key:t},[a!==e.breadcrumbs.length-1?((0,n.wg)(),(0,n.j4)(r,{key:0,to:{name:a<2?"TabCategories":"TabArticls",params:{slug:t.slug}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,c.zw)(t.title),1)])),_:2},1032,["to"])):((0,n.wg)(),(0,n.iD)("span",Ta,(0,c.zw)(t.title),1))])))),128))])])}var Sa={name:"TheBreadcrumbs",computed:{...(0,N.Se)({breadcrumbs:"categoryPages/breadcrumbs"})}};const _a=(0,m.Z)(Sa,[["render",ka]]);var Ea=_a,Ca={name:"CategoryPage",components:{LoadingPlaceholder:Ze,DirectoryActions:fa,TheBreadcrumbs:Ea},data(){return{isLoading:!0,title:"",slug:""}},computed:{...(0,N.Se)({treeLevel:"categoryPages/treeLevel",articls:"categoryPages/articls",articlTypes:"categoryPages/articlTypes",categories:"categoryPages/categories",notes:"categoryPages/notes"})},watch:{"$route.params.slug":{handler(){this.updateData()},immediate:!0}},methods:{async updateData(){try{this.isLoading=!0;const e=await this.fetchData(this.$route.params.slug);e.categories?.length?this.$store.dispatch("categoryPages/categories",e.categories):this.$store.dispatch("categoryPages/categories",[]),e.breadcrumbs?.length?this.$store.dispatch("categoryPages/breadcrumbs",e.breadcrumbs):this.$store.dispatch("categoryPages/breadcrumbs",[]),e.articls?(this.$store.dispatch("categoryPages/articls",e.articls),this.$store.dispatch("categoryPages/articlTypes",e.articlTypes)):(this.$store.dispatch("categoryPages/articls",[]),this.$store.dispatch("categoryPages/articlTypes",[])),e.notes?.length&&this.$store.dispatch("categoryPages/notes",e.notes),this.title=e.category[0]?.title;const t=e.category[0]?.description;Et({title:this.title,description:t})}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.isLoading=!1}},async fetchData(e){const t=await V({method:"GET",url:`/resource/${e||""}`});return{breadcrumbs:t.data.breadcrumbs,categories:t.data.categories,category:t.data.category,articlTypes:t.data.articls?.length?[...new Set(t.data.articls.map((e=>e?.type)))]:[],articls:(0,Ve.groupBy)(t.data.articls,(e=>e?.type)),notes:t.data.notes}}}};const Da=(0,m.Z)(Ca,[["render",pa]]);var Aa=Da;const Pa=(0,n._)("h1",null,"Forgot password",-1),Ma=(0,n._)("input",{type:"hidden",name:"username",autocomplete:"username"},null,-1),xa={for:"email"},La=["aria-busy"],Ua={key:0},Ia={key:0},Ra={key:1,class:"error"};function $a(e,t,a,o,i,r){return(0,n.wg)(),(0,n.iD)("article",null,[Pa,(0,n._)("form",null,[Ma,(0,n._)("label",xa,[(0,n.Uk)("Email "),(0,n.wy)((0,n._)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),name:"email",type:"text",autocomplete:"email"},null,512),[[s.nr,e.email]])]),(0,n._)("button",{id:"reset",type:"submit","aria-busy":e.buttonDisabled,onClick:t[1]||(t[1]=(0,s.iM)((e=>r.submitForm()),["prevent"]))},[e.buttonDisabled?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",Ua,"Reset"))],8,La)]),e.result?((0,n.wg)(),(0,n.iD)("p",Ia,(0,c.zw)(e.result),1)):(0,n.kq)("",!0),e.errorMessage?((0,n.wg)(),(0,n.iD)("p",Ra,(0,c.zw)(e.errorMessage),1)):(0,n.kq)("",!0)])}var Na={validateEmail:e=>!!e&&e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},Oa={name:"ForgotPass",data:()=>({email:null,emailInvalid:null,errorMessage:"",buttonDisabled:!1,result:null}),mounted:()=>{Et({title:"Forgot pass"})},methods:{resetForm(){this.emailInvalid=null,this.result=null},checkForm(){return!(!this.email||!Na.validateEmail(this.email))||(this.errorMessage="Please enter a valid email address",!1)},async submitForm(){try{if(this.resetForm(),!0===this.checkForm()){this.buttonDisabled=!0;const e=await V({method:"POST",url:"/auth/forgot-password",data:{email:this.email}});this.$store.dispatch("modals/setSuccessTitle","Email sent"),this.$store.dispatch("modals/setSuccessMessage","Check your email for instructions how to reset your password."),this.result=e?.data?.message?e.data.message:e.response}else this.$store.dispatch("errors/setError",this.errorMessage)}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.buttonDisabled=!1}}}};const Fa=(0,m.Z)(Oa,[["render",$a]]);var Va=Fa;const qa=e=>((0,n.dD)("data-v-478bf5ec"),e=e(),(0,n.Cn)(),e),za={key:0},Ba=qa((()=>(0,n._)("h3",null,"Category",-1)));function ja(e,t,a,o,s,i){const r=(0,n.up)("tab-categories"),l=(0,n.up)("directory-actions"),u=(0,n.up)("loading-placeholder");return s.isLoading?((0,n.wg)(),(0,n.j4)(u,{key:1})):((0,n.wg)(),(0,n.iD)("article",za,[Ba,(0,n._)("h2",null,(0,c.zw)(s.title),1),(0,n.Wm)(r),e.isLoggedInMixin?((0,n.wg)(),(0,n.j4)(l,{key:0,level:0})):(0,n.kq)("",!0)]))}function Wa(e,t,a,o,s,i){const r=(0,n.up)("categories-list-item"),l=(0,n.up)("draggable-items"),u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(l,{modelValue:i.categoriesLocal,"onUpdate:modelValue":t[0]||(t[0]=e=>i.categoriesLocal=e),tag:"ul","item-key":"id",handle:".handle","ghost-class":"ghost",onChange:i.onUpdateOrderValues},{item:(0,n.w5)((({element:t})=>[(0,n.Wm)(r,{category:t,class:"list-item","tree-level":e.treeLevel,"tab-name":s.TabName},null,8,["category","tree-level","tab-name"])])),_:1},8,["modelValue","onChange"]),(0,n.Wm)(u)])}var Ka=a(6983),Ga=a.n(Ka);const Ha={class:"container"};function Za(e,t,a,o,s,i){const r=(0,n.up)("router-link"),l=(0,n.up)("category-actions");return(0,n.wg)(),(0,n.iD)("li",Ha,[(0,n.Wm)(r,{class:"box",to:{name:a.tabName,params:{slug:a.category.slug}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,c.zw)(a.category.title),1)])),_:1},8,["to"]),e.isLoggedInMixin?((0,n.wg)(),(0,n.j4)(l,{key:0,id:a.category.id,class:"box",slug:a.category.slug},null,8,["id","slug"])):(0,n.kq)("",!0)])}const Ya=e=>((0,n.dD)("data-v-0cdd2b13"),e=e(),(0,n.Cn)(),e),Ja={class:"row-admin-box box"},Xa=Ya((()=>(0,n._)("small",null,"edit",-1))),Qa=Ya((()=>(0,n._)("small",null,"delete",-1))),eo={role:"button",class:"handle",href:"#"},to=Ya((()=>(0,n._)("div",{class:"sr"},"Reorder category",-1)));function ao(e,t,a,o,s,i){const r=(0,n.up)("router-link"),l=(0,n.up)("vue-feather");return(0,n.wg)(),(0,n.iD)("div",Ja,[(0,n.Wm)(r,{role:"button",to:{name:"editCategory",params:{id:a.id}}},{default:(0,n.w5)((()=>[Xa])),_:1},8,["to"]),(0,n.Wm)(r,{role:"button",to:{name:"deleteCategory",params:{slug:a.slug}}},{default:(0,n.w5)((()=>[Qa])),_:1},8,["to"]),(0,n._)("a",eo,[to,(0,n.Wm)(l,{size:"0.7rem",type:"move","aria-label":"Drag to reorder"})])])}var oo={name:"CategoryActions",components:{VueFeather:$.Z},props:{id:{type:String,default:""},slug:{type:String,default:""}},data:()=>({expanded:!1}),computed:{}};const so=(0,m.Z)(oo,[["render",ao],["__scopeId","data-v-0cdd2b13"]]);var io=so,ro={name:"CategoriesListItem",components:{CategoryActions:io},props:{category:{type:Object,default:void 0},treeLevel:{type:Number,default:0},tabName:{type:String,default:""},slug:{type:String,default:""}},data(){return{TabName:""}},methods:{}};const no=(0,m.Z)(ro,[["render",Za],["__scopeId","data-v-6e57fd56"]]);var lo=no,uo={name:"TabCategories",components:{DraggableItems:Ga(),CategoriesListItem:lo},data(){return{TabName:""}},computed:{categoriesLocal:{get(){return this.categories.map((e=>e))},set(e){this.$store.dispatch("categoryPages/categories",e)}},...(0,N.Se)({categories:"categoryPages/categories",treeLevel:"categoryPages/treeLevel"})},mounted(){this.TabName=this.treeLevel>0?"TabArticls":"TabCategories"},methods:{updateOrderValues(){try{this.categories.forEach(((e,t)=>{const a=e;a.order=t})),this.$store.dispatch("categoryPages/categories",this.categories)}catch(e){this.$store.dispatch("errors/setError",e)}},async saveOrderValues(){try{const e=this.categories.map((e=>({id:e.id,order:e.order})));await this.saveOrder(e)}catch(e){this.$store.dispatch("errors/setError",e)}},async saveOrder(e){this.isLoading=!0;const t=await V({method:"POST",url:"/categories/order",data:{order:e}});return this.isLoading=!1,t.data},onUpdateOrderValues(){this.updateOrderValues(),this.saveOrderValues()}}};const co=(0,m.Z)(uo,[["render",Wa],["__scopeId","data-v-4aae55c4"]]);var po=co,ho={name:"CategoryPage",components:{LoadingPlaceholder:Ze,TabCategories:po,DirectoryActions:fa},data(){return{isLoading:!0,title:""}},computed:{...(0,N.Se)({treeLevel:"categoryPages/treeLevel",articls:"categoryPages/articls",articlTypes:"categoryPages/articlTypes",categories:"categoryPages/categories",notes:"categoryPages/notes",user:"users/user"})},watch:{"$route.params.slug":{handler(){this.updateData()},immediate:!0}},methods:{async updateData(){try{this.isLoading=!0;const e=await this.fetchData();e.categories?.length?this.$store.dispatch("categoryPages/categories",e.categories):this.$store.dispatch("categoryPages/categories",[]),e.breadcrumbs?.length?this.$store.dispatch("categoryPages/breadcrumbs",e.breadcrumbs):this.$store.dispatch("categoryPages/breadcrumbs",[]),e.articls?(this.$store.dispatch("categoryPages/articls",e.articls),this.$store.dispatch("categoryPages/articlTypes",e.articlTypes)):(this.$store.dispatch("categoryPages/articls",[]),this.$store.dispatch("categoryPages/articlTypes",[])),e.notes?.length&&this.$store.dispatch("categoryPages/notes",e.notes),this.title=e.category[0]?.title;const t=e.category[0]?.description;Et({title:this.title,description:t})}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.isLoading=!1}},async fetchData(){const e=await V({method:"GET",url:"/resource/0"});return{categories:e.data.categories,category:e.data.category,notes:e.data.notes}}}};const mo=(0,m.Z)(ho,[["render",ja],["__scopeId","data-v-478bf5ec"]]);var go=mo;const yo=(0,n._)("h1",null,"Log in",-1),vo={for:"username"},wo={for:"password"},fo={class:"toggle-password"},bo=["type"],To=["aria-busy"],ko={key:0};function So(e,t,a,o,i,r){const l=(0,n.up)("the-button-toggle-hidden"),u=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("article",null,[yo,(0,n._)("form",null,[(0,n._)("label",vo,[(0,n.Uk)("User Name "),(0,n.wy)((0,n._)("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),name:"username",type:"text",autocomplete:"username"},null,512),[[s.nr,e.username]])]),(0,n._)("label",wo,[(0,n.Uk)("Password "),(0,n._)("div",fo,[(0,n.wy)((0,n._)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),name:"password",type:e.passwordType,autocomplete:"current-password"},null,8,bo),[[s.YZ,e.password]]),(0,n.Wm)(l,{class:"toggle-password-mask",onShow:t[2]||(t[2]=t=>e.passwordType="text"===e.passwordType?"password":"text")})])]),(0,n._)("button",{id:"Login",type:"submit","aria-busy":e.buttonDisabled,onClick:t[3]||(t[3]=(0,s.iM)((e=>r.submitForm()),["prevent"]))},[e.buttonDisabled?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",ko,"Login"))],8,To)]),(0,n.Wm)(u,{to:"/forgot-pass"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Forgot pass ")])),_:1}),(0,n.Wm)(u,{to:"/users",class:"right"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Create account ")])),_:1})])}const _o=e=>((0,n.dD)("data-v-5f59da0d"),e=e(),(0,n.Cn)(),e),Eo=_o((()=>(0,n._)("p",{class:"sr"},"Hide password",-1))),Co=_o((()=>(0,n._)("p",{class:"sr"},"Show password",-1)));function Do(e,t,a,o,i,r){const l=(0,n.up)("vue-feather");return(0,n.wg)(),(0,n.iD)("div",null,[e.show?((0,n.wg)(),(0,n.iD)("a",{key:0,href:"#",onClick:t[0]||(t[0]=(0,s.iM)((t=>{e.$emit("show"),e.show=!e.show}),["prevent"])),onKeypress:t[1]||(t[1]=(0,s.D2)((t=>e.focus()),["esc"]))},[Eo,(0,n.Wm)(l,{size:"1.2rem",type:"eye-off","aria-label":"Hide password"})],32)):(0,n.kq)("",!0),e.show?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("a",{key:1,href:"#",onClick:t[2]||(t[2]=(0,s.iM)((t=>{e.$emit("show"),e.show=!e.show}),["prevent"])),onKeypress:t[3]||(t[3]=(0,s.D2)((t=>e.focus()),["esc"]))},[Co,(0,n.Wm)(l,{size:"1.2rem",type:"eye","aria-label":"Show password"})],32))])}var Ao={components:{VueFeather:$.Z},emits:["show"],data:()=>({show:!1})};const Po=(0,m.Z)(Ao,[["render",Do],["__scopeId","data-v-5f59da0d"]]);var Mo=Po,xo={name:"LoginPage",components:{theButtonToggleHidden:Mo},data:()=>({username:null,usernameInvalid:null,password:null,passwordInvalid:null,showPassword:!1,buttonDisabled:!1,passwordType:"password"}),computed:{...(0,N.Se)({treeLevel:"categoryPages/treeLevel",articls:"categoryPages/articls",articlTypes:"categoryPages/articlTypes",categories:"categoryPages/categories",notes:"categoryPages/notes",user:"users/user",tokens:"tokens/tokens"})},mounted:()=>{Et({title:"Login"})},methods:{resetFormErrors(){this.errorMessage=""},checkForm(){let e=!0;return this.username||(this.errorMessage="Please enter your username.",e=!1),this.password||(this.errorMessage="Please enter your password.",e=!1),e},async submitForm(){try{if(!0===this.checkForm()){this.buttonDisabled=!0,await this.$store.dispatch("users/login",{password:this.password,username:this.username}),this.resetFormErrors(),this.$cookies.set("accessTokenExpires",this.tokens.accessTokenExpires),this.$cookies.set("accessTokenValue",this.tokens.accessTokenValue),this.$cookies.set("refreshTokenExpires",this.tokens.refreshTokenExpires),this.$cookies.set("refreshTokenValue",this.tokens.refreshTokenValue);const e="dark"!==this.user?.theme?"light":"dark";this.$cookies.set("data-theme",e),document.documentElement.setAttribute("data-theme",e);const t=16!==this.user?.fontSize?this.user?.fontSize:16;this.$cookies.set("font-size",t),this.$route.query.redirect&&"/login"!==this.$route.query.redirect?this.$router.push({path:this.$route.query.redirect}):this.$router.push({name:"homePage"})}else this.$store.dispatch("errors/setError",this.errorMessage)}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.buttonDisabled=!1}}}};const Lo=(0,m.Z)(xo,[["render",So]]);var Uo=Lo;function Io(e,t,a,o,i,r){return(0,n.wg)(),(0,n.iD)("article",null,[(0,n._)("h1",null,"Delete Note"+(0,c.zw)(a.slug),1),(0,n._)("p",null,'Really delete note that starts "'+(0,c.zw)(a.fullText.substring(0,40))+'..."?',1),(0,n._)("form",null,[a.id?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:t[0]||(t[0]=(0,s.iM)((e=>r.deleteNote()),["prevent"]))}," Delete ")):(0,n.kq)("",!0)])])}var Ro={name:"DeleteNote",props:{fullText:{type:String,default:""},id:{type:String,default:""},slug:{type:String,default:""}},data:()=>({}),mounted(){},methods:{async deleteNote(){try{this.buttonDisabled=!0,await this.submitDelete(this.id),this.$router.push({name:"categoryPage",params:{slug:this.slug}})}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.buttonDisabled=!1}},async submitDelete(e){return V({method:"DELETE",url:"/notes",data:{id:e}})}}};const $o=(0,m.Z)(Ro,[["render",Io]]);var No=$o;const Oo=(0,n._)("article",null,[(0,n._)("h1",null,"Not found"),(0,n._)("p",null,"The page or the content requested by the page could not be found.")],-1),Fo=[Oo];function Vo(e,t,a,o,s,i){return(0,n.wg)(),(0,n.iD)("article",null,Fo)}var qo={mounted:()=>{Et({title:"Not Found"})}};const zo=(0,m.Z)(qo,[["render",Vo]]);var Bo=zo;const jo=(0,n._)("h1",null,"Reset Password",-1),Wo={for:"username"},Ko={for:"newPassword"},Go={key:0,class:"lighter left-space"},Ho={key:1,class:"lighter left-space"},Zo={class:"toggle-password"},Yo=["type"],Jo={for:"newPassword2"},Xo={class:"toggle-password"},Qo=["type"],es=["aria-busy"],ts={key:0},as={key:0,class:"invalid"};function os(e,t,a,o,i,r){const l=(0,n.up)("the-button-toggle-hidden");return(0,n.wg)(),(0,n.iD)("article",null,[jo,(0,n._)("form",null,[(0,n._)("label",Wo,[(0,n.Uk)("Username "),(0,n.wy)((0,n._)("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),autocomplete:"username"},null,512),[[s.nr,e.username]])]),(0,n._)("label",Ko,[(0,n.Uk)("New password "),e.passwordComplexity<3?((0,n.wg)(),(0,n.iD)("small",Go," Use upper- and lowercase, numerical and special characters. ")):e.newPassword.length<8?((0,n.wg)(),(0,n.iD)("small",Ho," Please use 8 or more characters. ")):(0,n.kq)("",!0),(0,n._)("div",Zo,[(0,n.wy)((0,n._)("input",{id:"newPassword","onUpdate:modelValue":t[1]||(t[1]=t=>e.newPassword=t),type:e.newPasswordType,autocomplete:"new-password"},null,8,Yo),[[s.YZ,e.newPassword]]),(0,n.Wm)(l,{class:"toggle-password-mask",onShow:t[2]||(t[2]=t=>e.newPasswordType="text"===e.newPasswordType?"password":"text")})])]),(0,n._)("label",Jo,[(0,n.Uk)("Confirm new new password "),(0,n._)("div",Xo,[(0,n.wy)((0,n._)("input",{id:"newPassword2","onUpdate:modelValue":t[3]||(t[3]=t=>e.newPassword2=t),type:e.newPassword2Type,autocomplete:"new-password"},null,8,Qo),[[s.YZ,e.newPassword2]]),(0,n.Wm)(l,{class:"toggle-password-mask",onShow:t[4]||(t[4]=t=>e.newPassword2Type="text"===e.newPassword2Type?"password":"text")})])]),(0,n._)("button",{id:"reset",type:"submit","aria-busy":e.buttonDisabled,onClick:t[5]||(t[5]=(0,s.iM)((e=>r.submitForm()),["prevent"]))},[e.buttonDisabled?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",ts,"Change Password"))],8,es),e.result?((0,n.wg)(),(0,n.iD)("p",as,(0,c.zw)(e.result),1)):(0,n.kq)("",!0)])])}var ss={name:"PasswordReset",components:{theButtonToggleHidden:Mo},data:()=>({username:null,password:null,newPassword:null,newPassword2:null,newPasswordType:"password",newPassword2Type:"password",buttonDisabled:!1,passwordComplexity:0,errorMessage:"",success:!1,result:null,chrs:0}),watch:{newPassword:{handler(e){this.passwordComplexity=this.scoreChars(e)}}},mounted:()=>{Et({title:"Reset Password"})},methods:{checkForm(){let e=!0;return this.newPassword?.length<8?(this.errorMessage="Passwords are at least eight characters.",e=!1):this.newPassword!==this.newPassword2&&(this.errorMessage="Passwords do not mach.",e=!1),e},resetFormErrors(){this.success=null,this.result=null},async submitForm(){try{!0===this.checkForm()?(this.buttonDisabled=!0,await V({method:"POST",url:"/auth/change-password",data:{username:this.username,newPassword:this.newPassword,newPassword2:this.newPassword2}}),this.$store.dispatch("modals/setSuccessTitle","Password updated"),this.$store.dispatch("modals/setSuccessMessage","You have successfully changed your password.")):this.$store.dispatch("errors/setError",this.errorMessage)}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.buttonDisabled=!1}},scoreChars:ot,validateEmail:st}};const is=(0,m.Z)(ss,[["render",os]]);var rs=is;const ns=e=>((0,n.dD)("data-v-11a63636"),e=e(),(0,n.Cn)(),e),ls={key:0},us=ns((()=>(0,n._)("br",null,null,-1))),cs={key:1},ds={for:"username"},ps=["readonly","aria-invalid"],hs={key:0,for:"password"},ms={key:0,class:"left-space"},gs={class:"toggle-password"},ys=["type","aria-invalid"],vs={key:1,for:"password2"},ws={class:"toggle-password"},fs=["type","aria-invalid"],bs={class:"grid"},Ts={for:"nameFirst"},ks=["aria-invalid"],Ss={for:"nameLast"},_s=["aria-invalid"],Es={for:"email"},Cs=["aria-invalid"],Ds={for:"position"},As=["aria-invalid"],Ps=(0,n.uE)('<option disabled value="" data-v-11a63636> Please select one </option><option value="Student" data-v-11a63636>Student</option><option value="Resident" data-v-11a63636>Resident</option><option value="Physician" data-v-11a63636>Physician</option><option value="Allied Healthcare Profession" data-v-11a63636>Allied Healthcare Profession</option>',5),Ms=[Ps],xs={for:"education"},Ls=["aria-invalid"],Us={for:"institution"},Is=["aria-invalid"],Rs={for:"city"},$s=["aria-invalid"],Ns=["aria-busy","disabled"],Os={key:0},Fs={key:1};function Vs(e,t,a,o,i,r){const l=(0,n.up)("the-button-toggle-hidden"),u=(0,n.up)("select-countries"),d=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("article",null,["PATCH"===e.method?((0,n.wg)(),(0,n.iD)("h1",ls,[(0,n.Uk)(" Articl.net User: "+(0,c.zw)(e.nameFirst)+" "+(0,c.zw)(e.nameLast),1),us])):((0,n.wg)(),(0,n.iD)("h1",cs," Create Account ")),(0,n._)("form",null,[e.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("label",ds,[(0,n.Uk)("Username "),(0,n.wy)((0,n._)("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),readonly:e.isLoggedInMixin,type:"text",name:"username",autocomplete:"username","aria-invalid":r.usernameInvalid,maxlen:"64",onKeyup:t[1]||(t[1]=(...e)=>r.removeUsernameWhiteSpace&&r.removeUsernameWhiteSpace(...e)),onBlur:t[2]||(t[2]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},null,40,ps),[[s.nr,e.username]])]),e.isLoggedInMixin?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("label",hs,[(0,n.Uk)("Password "),r.passwordInvalid?((0,n.wg)(),(0,n.iD)("small",ms," Must be 8 or more characters and contain at least one uppercase letter, one lowercase letter and a digit. ")):(0,n.kq)("",!0),(0,n._)("div",gs,[(0,n.wy)((0,n._)("input",{id:"password","onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),type:e.passwordType,"aria-invalid":r.passwordInvalid,maxlen:"64",name:"password",autocomplete:"new-password",onBlur:t[4]||(t[4]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},null,40,ys),[[s.YZ,e.password]]),(0,n.Wm)(l,{class:"toggle-password-mask",onShow:t[5]||(t[5]=t=>e.passwordType="text"===e.passwordType?"password":"text")})])])),e.isLoggedInMixin?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("label",vs,[(0,n.Uk)("Confirm password "),(0,n._)("div",ws,[(0,n.wy)((0,n._)("input",{id:"password2","onUpdate:modelValue":t[6]||(t[6]=t=>e.password2=t),type:e.password2Type,maxlen:"64",name:"password2","aria-invalid":r.password2Invalid,autocomplete:"new-password",onBlur:t[7]||(t[7]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},null,40,fs),[[s.YZ,e.password2]]),(0,n.Wm)(l,{class:"toggle-password-mask",onShow:t[8]||(t[8]=t=>e.password2Type="text"===e.password2Type?"password":"text")})])])),(0,n._)("fieldset",bs,[(0,n._)("div",null,[(0,n._)("label",Ts,[(0,n.Uk)("First Name "),(0,n.wy)((0,n._)("input",{id:"nameFirst","onUpdate:modelValue":t[9]||(t[9]=t=>e.nameFirst=t),type:"text",name:"nameFirst","aria-invalid":r.nameFirstInvalid,autocomplete:"given-name",onBlur:t[10]||(t[10]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},null,40,ks),[[s.nr,e.nameFirst]])])]),(0,n._)("div",null,[(0,n._)("label",Ss,[(0,n.Uk)("Last Name "),(0,n.wy)((0,n._)("input",{id:"nameLast","onUpdate:modelValue":t[11]||(t[11]=t=>e.nameLast=t),type:"text",name:"nameLast","aria-invalid":r.nameLastInvalid,autocomplete:"family-name",onBlur:t[12]||(t[12]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},null,40,_s),[[s.nr,e.nameLast]])])])]),(0,n._)("label",Es,[(0,n.Uk)("Email "),(0,n.wy)((0,n._)("input",{id:"email","onUpdate:modelValue":t[13]||(t[13]=t=>e.email=t),type:"text",name:"email","aria-invalid":r.emailInvalid,autocomplete:"email",onBlur:t[14]||(t[14]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},null,40,Cs),[[s.nr,e.email]])]),(0,n._)("label",Ds,[(0,n.Uk)("Current position "),(0,n.wy)((0,n._)("select",{id:"position","onUpdate:modelValue":t[15]||(t[15]=t=>e.position=t),name:"position","aria-invalid":r.positionInvalid,onBlur:t[16]||(t[16]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},Ms,40,As),[[s.bM,e.position]])]),(0,n._)("label",xs,[(0,n.Uk)("School "),(0,n.wy)((0,n._)("input",{id:"education","onUpdate:modelValue":t[17]||(t[17]=t=>e.education=t),type:"text",name:"education","aria-invalid":r.educationInvalid,autocomplete:"education",onBlur:t[18]||(t[18]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},null,40,Ls),[[s.nr,e.education]])]),(0,n._)("label",Us,[(0,n.Uk)("Institution "),(0,n.wy)((0,n._)("input",{id:"institution","onUpdate:modelValue":t[19]||(t[19]=t=>e.institution=t),type:"text",name:"institution","aria-invalid":r.institutionInvalid,autocomplete:"organization",onBlur:t[20]||(t[20]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},null,40,Is),[[s.nr,e.institution]])]),(0,n._)("label",Rs,[(0,n.Uk)("City "),(0,n.wy)((0,n._)("input",{id:"city","onUpdate:modelValue":t[21]||(t[21]=t=>e.city=t),type:"text",name:"city","aria-invalid":r.cityInvalid,autocomplete:"address-level2",onBlur:t[22]||(t[22]=(...e)=>r.elementBlurred&&r.elementBlurred(...e))},null,40,$s),[[s.nr,e.city]])]),(0,n.Wm)(u,{id:"country",country:e.country,"aria-invalid":r.countryInvalid,onChangeCountry:r.changeCountry,onFocusout:r.elementBlurred},null,8,["country","aria-invalid","onChangeCountry","onFocusout"]),(0,n._)("button",{id:"Update",type:"submit","aria-busy":e.buttonDisabled,disabled:e.buttonDisabled,onClick:t[23]||(t[23]=(0,s.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"]))},[e.buttonDisabled||"PATCH"!==e.method?e.buttonDisabled?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",Fs,"Create Account")):((0,n.wg)(),(0,n.iD)("span",Os,"Update Account"))],8,Ns),e.isLoggedInMixin?((0,n.wg)(),(0,n.j4)(d,{key:2,to:"/change-password"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Change password ")])),_:1})):(0,n.kq)("",!0),e.isLoggedInMixin?((0,n.wg)(),(0,n.iD)("a",{key:3,class:"right",onKeyup:t[24]||(t[24]=e=>r.logout()),onClick:t[25]||(t[25]=e=>r.logout())}," Log out ",32)):(0,n.kq)("",!0)],64))])])}const qs={for:"country"},zs=["value","aria-invalid"],Bs=(0,n.uE)('<option disabled value=""> Please select one </option><option value="US"> United States </option><option value="AF"> Afghanistan </option><option value="AX"> Åland Islands </option><option value="AL"> Albania </option><option value="DZ"> Algeria </option><option value="AS"> American Samoa </option><option value="AD"> Andorra </option><option value="AO"> Angola </option><option value="AI"> Anguilla </option><option value="AQ"> Antarctica </option><option value="AG"> Antigua and Barbuda </option><option value="AR"> Argentina </option><option value="AM"> Armenia </option><option value="AW"> Aruba </option><option value="AU"> Australia </option><option value="AT"> Austria </option><option value="AZ"> Azerbaijan </option><option value="BS"> Bahamas (the) </option><option value="BH"> Bahrain </option><option value="BD"> Bangladesh </option><option value="BB"> Barbados </option><option value="BY"> Belarus </option><option value="BE"> Belgium </option><option value="BZ"> Belize </option><option value="BJ"> Benin </option><option value="BM"> Bermuda </option><option value="BT"> Bhutan </option><option value="BO"> Bolivia (Plurinational State of) </option><option value="BQ"> Bonaire, Sint Eustatius and Saba </option><option value="BA"> Bosnia and Herzegovina </option><option value="BW"> Botswana </option><option value="BV"> Bouvet Island </option><option value="BR"> Brazil </option><option value="IO"> British Indian Ocean Territory (the) </option><option value="BN"> Brunei Darussalam </option><option value="BG"> Bulgaria </option><option value="BF"> Burkina Faso </option><option value="BI"> Burundi </option><option value="CV"> Cabo Verde </option><option value="KH"> Cambodia </option><option value="CM"> Cameroon </option><option value="CA"> Canada </option><option value="KY"> Cayman Islands (the) </option><option value="CF"> Central African Republic (the) </option><option value="TD"> Chad </option><option value="CL"> Chile </option><option value="CN"> China </option><option value="CX"> Christmas Island </option><option value="CC"> Cocos (Keeling) Islands (the) </option><option value="CO"> Colombia </option><option value="KM"> Comoros (the) </option><option value="CD"> Congo (the Democratic Republic of the) </option><option value="CG"> Congo (the) </option><option value="CK"> Cook Islands (the) </option><option value="CR"> Costa Rica </option><option value="HR"> Croatia </option><option value="CU"> Cuba </option><option value="CW"> Curaçao </option><option value="CY"> Cyprus </option><option value="CZ"> Czechia </option><option value="CI"> Côte d&#39;Ivoire </option><option value="DK"> Denmark </option><option value="DJ"> Djibouti </option><option value="DM"> Dominica </option><option value="DO"> Dominican Republic (the) </option><option value="EC"> Ecuador </option><option value="EG"> Egypt </option><option value="SV"> El Salvador </option><option value="GQ"> Equatorial Guinea </option><option value="ER"> Eritrea </option><option value="EE"> Estonia </option><option value="SZ"> Eswatini </option><option value="ET"> Ethiopia </option><option value="FK"> Falkland Islands (the) [Malvinas] </option><option value="FO"> Faroe Islands (the) </option><option value="FJ"> Fiji </option><option value="FI"> Finland </option><option value="FR"> France </option><option value="GF"> French Guiana </option><option value="PF"> French Polynesia </option><option value="TF"> French Southern Territories (the) </option><option value="GA"> Gabon </option><option value="GM"> Gambia (the) </option><option value="GE"> Georgia </option><option value="DE"> Germany </option><option value="GH"> Ghana </option><option value="GI"> Gibraltar </option><option value="GR"> Greece </option><option value="GL"> Greenland </option><option value="GD"> Grenada </option><option value="GP"> Guadeloupe </option><option value="GU"> Guam </option><option value="GT"> Guatemala </option><option value="GG"> Guernsey </option><option value="GN"> Guinea </option><option value="GW"> Guinea-Bissau </option><option value="GY"> Guyana </option><option value="HT"> Haiti </option><option value="HM"> Heard Island and McDonald Islands </option><option value="VA"> Holy See (the) </option><option value="HN"> Honduras </option><option value="HK"> Hong Kong </option><option value="HU"> Hungary </option><option value="IS"> Iceland </option><option value="IN"> India </option><option value="ID"> Indonesia </option><option value="IR"> Iran (Islamic Republic of) </option><option value="IQ"> Iraq </option><option value="IE"> Ireland </option><option value="IM"> Isle of Man </option><option value="IL"> Israel </option><option value="IT"> Italy </option><option value="JM"> Jamaica </option><option value="JP"> Japan </option><option value="JE"> Jersey </option><option value="JO"> Jordan </option><option value="KZ"> Kazakhstan </option><option value="KE"> Kenya </option><option value="KI"> Kiribati </option><option value="KP"> Korea (the Democratic People&#39;s Republic of) </option><option value="KR"> Korea (the Republic of) </option><option value="KW"> Kuwait </option><option value="KG"> Kyrgyzstan </option><option value="LA"> Lao People&#39;s Democratic Republic (the) </option><option value="LV"> Latvia </option><option value="LB"> Lebanon </option><option value="LS"> Lesotho </option><option value="LR"> Liberia </option><option value="LY"> Libya </option><option value="LI"> Liechtenstein </option><option value="LT"> Lithuania </option><option value="LU"> Luxembourg </option><option value="MO"> Macao </option><option value="MG"> Madagascar </option><option value="MW"> Malawi </option><option value="MY"> Malaysia </option><option value="MV"> Maldives </option><option value="ML"> Mali </option><option value="MT"> Malta </option><option value="MH"> Marshall Islands (the) </option><option value="MQ"> Martinique </option><option value="MR"> Mauritania </option><option value="MU"> Mauritius </option><option value="YT"> Mayotte </option><option value="MX"> Mexico </option><option value="FM"> Micronesia (Federated States of) </option><option value="MD"> Moldova (the Republic of) </option><option value="MC"> Monaco </option><option value="MN"> Mongolia </option><option value="ME"> Montenegro </option><option value="MS"> Montserrat </option><option value="MA"> Morocco </option><option value="MZ"> Mozambique </option><option value="MM"> Myanmar </option><option value="NA"> Namibia </option><option value="NR"> Nauru </option><option value="NP"> Nepal </option><option value="NL"> Netherlands (the) </option><option value="NC"> New Caledonia </option><option value="NZ"> New Zealand </option><option value="NI"> Nicaragua </option><option value="NE"> Niger (the) </option><option value="NG"> Nigeria </option><option value="NU"> Niue </option><option value="NF"> Norfolk Island </option><option value="MP"> Northern Mariana Islands (the) </option><option value="NO"> Norway </option><option value="OM"> Oman </option><option value="PK"> Pakistan </option><option value="PW"> Palau </option><option value="PS"> Palestine, State of </option><option value="PA"> Panama </option><option value="PG"> Papua New Guinea </option><option value="PY"> Paraguay </option><option value="PE"> Peru </option><option value="PH"> Philippines (the) </option><option value="PN"> Pitcairn </option><option value="PL"> Poland </option><option value="PT"> Portugal </option><option value="PR"> Puerto Rico </option><option value="QA"> Qatar </option><option value="MK"> Republic of North Macedonia </option><option value="RO"> Romania </option><option value="RU"> Russian Federation (the) </option><option value="RW"> Rwanda </option><option value="RE"> Réunion </option><option value="BL"> Saint Barthélemy </option><option value="SH"> Saint Helena, Ascension and Tristan da Cunha </option><option value="KN"> Saint Kitts and Nevis </option><option value="LC"> Saint Lucia </option><option value="MF"> Saint Martin (French part) </option><option value="PM"> Saint Pierre and Miquelon </option><option value="VC"> Saint Vincent and the Grenadines </option><option value="WS"> Samoa </option><option value="SM"> San Marino </option><option value="ST"> Sao Tome and Principe </option><option value="SA"> Saudi Arabia </option><option value="SN"> Senegal </option><option value="RS"> Serbia </option><option value="SC"> Seychelles </option><option value="SL"> Sierra Leone </option><option value="SG"> Singapore </option><option value="SX"> Sint Maarten (Dutch part) </option><option value="SK"> Slovakia </option><option value="SI"> Slovenia </option><option value="SB"> Solomon Islands </option><option value="SO"> Somalia </option><option value="ZA"> South Africa </option><option value="GS"> South Georgia and the South Sandwich Islands </option><option value="SS"> South Sudan </option><option value="ES"> Spain </option><option value="LK"> Sri Lanka </option><option value="SD"> Sudan (the) </option><option value="SR"> Suriname </option><option value="SJ"> Svalbard and Jan Mayen </option><option value="SE"> Sweden </option><option value="CH"> Switzerland </option><option value="SY"> Syrian Arab Republic </option><option value="TW"> Taiwan (Province of China) </option><option value="TJ"> Tajikistan </option><option value="TZ"> Tanzania, United Republic of </option><option value="TH"> Thailand </option><option value="TL"> Timor-Leste </option><option value="TG"> Togo </option><option value="TK"> Tokelau </option><option value="TO"> Tonga </option><option value="TT"> Trinidad and Tobago </option><option value="TN"> Tunisia </option><option value="TR"> Turkey </option><option value="TM"> Turkmenistan </option><option value="TC"> Turks and Caicos Islands (the) </option><option value="TV"> Tuvalu </option><option value="UG"> Uganda </option><option value="UA"> Ukraine </option><option value="AE"> United Arab Emirates (the) </option><option value="GB"> United Kingdom of Great Britain and Northern Ireland (the) </option><option value="UM"> United States Minor Outlying Islands (the) </option><option value="US"> United States </option><option value="UY"> Uruguay </option><option value="UZ"> Uzbekistan </option><option value="VU"> Vanuatu </option><option value="VE"> Venezuela (Bolivarian Republic of) </option><option value="VN"> Viet Nam </option><option value="VG"> Virgin Islands (British) </option><option value="VI"> Virgin Islands (U.S.) </option><option value="WF"> Wallis and Futuna </option><option value="EH"> Western Sahara </option><option value="YE"> Yemen </option><option value="ZM"> Zambia </option><option value="ZW"> Zimbabwe </option>',251),js=[Bs];function Ws(e,t,a,o,s,i){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("label",qs,[(0,n.Uk)("Country "),(0,n._)("select",{id:"country",name:"country",value:s.modelValue,"aria-invalid":a.ariaInvalid,autocomplete:"country-name",onChange:t[0]||(t[0]=(...e)=>i.changeCountry&&i.changeCountry(...e))},js,40,zs)])])}var Ks={props:{country:{type:String,default:""},ariaInvalid:{type:Boolean,default:null}},emits:["change-country"],data(){return{modelValue:""}},watch:{country(e){this.modelValue=e}},created(){this.modelValue=this.country},methods:{changeCountry(e){this.$emit("change-country",e.target.value)}}};const Gs=(0,m.Z)(Ks,[["render",Ws]]);var Hs=Gs,Zs={name:"UsersPage",components:{selectCountries:Hs,theButtonToggleHidden:Mo},props:{id:{default:()=>"",type:String}},data:()=>({focusedElements:[],username:"",password:"",passwordType:"password",password2:"",password2Type:"password",passwordComplexity:0,nameFirst:"",nameLast:"",email:"",position:"",education:"",institution:"",city:"",country:"",method:"PATCH",formActionUrl:"",buttonDisabled:!1,isLoading:!0,errorMessage:"",result:""}),computed:{usernameInvalid(){return-1===this.focusedElements.indexOf("username")?null:this.username.length<3},passwordInvalid(){return-1===this.focusedElements.indexOf("password")?null:this.scoreChars(this.password)<4},password2Invalid(){return-1===this.focusedElements.indexOf("password2")?null:this.password.length>0&&this.password2!==this.password||this.scoreChars(this.password2)<4},nameFirstInvalid(){return-1===this.focusedElements.indexOf("nameFirst")?null:0===this.nameFirst.length},nameLastInvalid(){return-1===this.focusedElements.indexOf("nameLast")?null:0===this.nameLast.length},emailInvalid(){return-1===this.focusedElements.indexOf("email")?null:this.validateEmail(this.email)},educationInvalid(){return-1===this.focusedElements.indexOf("education")?null:0===this.education.length},positionInvalid(){return-1===this.focusedElements.indexOf("position")?null:0===this.position.length},institutionInvalid(){return-1===this.focusedElements.indexOf("institution")?null:0===this.institution.length},cityInvalid(){return-1===this.focusedElements.indexOf("city")?null:0===this.city.length},countryInvalid(){return-1===this.focusedElements.indexOf("country")?null:0===this.country.length}},mounted(){this.isLoggedInMixin?(this.method="GET",this.fetchData(),this.method="PATCH"):(this.method="POST",this.formActionUrl="/auth/register",this.isLoading=!1),Et({title:"Articl.net User"})},methods:{elementBlurred(e){-1===this.focusedElements.indexOf(e.target.name)&&this.focusedElements.push(e.target.name)},async fetchData(){try{this.isLoading=!0;const e=await this.getMe();this.username=e.username?e.username:"",this.nameFirst=e.nameFirst?e.nameFirst:"",this.nameLast=e.nameLast?e.nameLast:"",this.email=e.email?e.email:"",this.education=e.education?e.education:"",this.position=e.position?e.position:"",this.institution=e.institution?e.institution:"",this.city=e.city?e.city:"",this.state=e.state?e.state:"",this.country=e.country?e.country:"",this.theme="dark"!==e.theme?"light":"dark",this.fontSize=e.fontSize?e.fontSize:""}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.isLoading=!1}},async getMe(){const e=await V({method:"GET",url:"/users/me"});return e.data},resetFormErrors(){this.result=null},changeCountry(e){this.country=e},checkForm(){const e=!0,t=[];return"POST"===this.method&&(this.usernameInvalid&&t.push("Your username must be at least three characters long."),this.passwordInvalid&&t.push("Password must be at least eight chanacters and contain an upper case letter, a lower case letter and a digit."),this.password2Invalid&&t.push("Please conform (re-enter) a password.")),this.nameFirstInvalid&&t.push("Please enter your first name."),this.nameLastInvalid&&t.push("Please enter your last name."),this.emailInvalid&&t.push("Please enter a valid email address."),this.educationInvalid&&t.push("Please enter your education."),this.positionInvalid&&t.push("Please enter your position."),this.institutionInvalid&&t.push("Please enter your institution."),this.cityInvalid&&t.push("Please enter your city."),this.countryInvalid&&t.push("Please enter your country."),t.length||(this.errorMessage=t.join(","),this.$store.dispatch("errors/setError",this.errorMessage)),e},async submitForm(){try{if(this.resetFormErrors(),!0===this.checkForm()){this.buttonDisabled=!0;const e=await V({method:this.method,url:this.formActionUrl,data:{username:this.username,password:this.password,nameFirst:this.nameFirst,nameLast:this.nameLast,email:this.email,education:this.education,position:this.position,institution:this.institution,city:this.city,country:this.country}});e.data?(this.result=e.data,"POST"===this.method?(this.$store.dispatch("modals/setSuccessTitle","User Created"),this.$store.dispatch("modals/setSuccessMessage",`Please click on the link in the verification email that was sent to ${this.email}.`)):(this.$store.dispatch("modals/setSuccessTitle","User Updated"),this.$store.dispatch("modals/setSuccessMessage","Your account information was successfully updated."))):this.$store.dispatch("errors/setError","Unknown response.")}}catch(e){this.$store.dispatch("errors/setError",e)}finally{this.buttonDisabled=!1}},async logout(){try{const e=this.$store.getters["tokens/refreshTokenValue"];e&&(await V({method:"POST",url:"/auth/logout",data:{refreshToken:e}}),this.clearLocalData(),this.$router.push("/"))}catch(e){this.$store.dispatch("errors/setError",e)}finally{localStorage.clear(),this.$store.dispatch("users/logout")}},removeUsernameWhiteSpace(){this.username=this.username.replace(/\s/g,"")},scoreChars:ot,validateEmail:st}};const Ys=(0,m.Z)(Zs,[["render",Vs],["__scopeId","data-v-11a63636"]]);var Js=Ys;const Xs={key:0},Qs=(0,n._)("a",{href:"/login"},"log in",-1);function ei(e,t,a,o,s,i){return(0,n.wg)(),(0,n.iD)("article",null,[(0,n._)("h1",null,(0,c.zw)(e.resultTitle),1),e.resultTitle?((0,n.wg)(),(0,n.iD)("p",Xs,[(0,n.Uk)(" Please "),Qs,(0,n.Uk)(" to continue. ")])):(0,n.kq)("",!0)])}var ti={name:"VerifyEmailPage",data:()=>({resultTitle:null,result:null}),async mounted(){try{await this.submitForm(),Et({title:"Email Verification"})}catch(e){this.$store.dispatch("errors/setError",e)}},methods:{async submitForm(){this.isLoading=!0;const e=await V({method:"GET",url:`/auth/verify-email?token=${this.$route.query.token}`});204===e?.status?this.resultTitle="Email verified":this.$store.dispatch("errors/setError",e),this.isLoading=!1}}};const ai=(0,m.Z)(ti,[["render",ei]]);var oi=ai;const si={class:"tab-content"},ii=(0,n._)("h2",null,"Notes",-1);function ri(e,t,a,o,s,i){const r=(0,n.up)("notes-list-item");return(0,n.wg)(),(0,n.iD)("div",si,[ii,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.notes||[],(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.fullText},[(0,n.Wm)(r,{"passed-note":e},null,8,["passed-note"])])))),128))])])}const ni={class:"line-detail"},li={class:"right"},ui={class:"main-line"},ci=["aria-busy"],di={key:0},pi={key:0};function hi(e,t,a,o,s,i){const r=(0,n.up)("admin-actions-note"),l=(0,n.up)("note-crud");return e.isEditing?((0,n.wg)(),(0,n.j4)(l,{key:1,slug:e.note.slug,"passed-id":e.note.id,onViewMode:i.getCurrentNote},null,8,["slug","passed-id","onViewMode"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("ul",null,[(0,n._)("li",ni,[e.note.author?.nameFirst||e.note.author?.nameLast?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)((0,c.zw)(e.note.author.nameFirst)+" "+(0,c.zw)(e.note.author.nameLast),1)],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" Anonymous ")],64)),(0,n._)("span",li," created at: "+(0,c.zw)(e.note.createdAt),1)]),(0,n._)("li",ui,[(0,n._)("span",{"aria-busy":e.isLoading},null,8,ci),(0,n.Uk)(),e.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",di,(0,c.zw)(e.note.fullText),1))])]),e.isLoggedInMixin?((0,n.wg)(),(0,n.iD)("div",pi,[(0,n.Wm)(r,{id:e.note.id,"full-text":e.note.fullText,slug:e.note.slug,onEditMode:t[0]||(t[0]=t=>e.isEditing=!0)},null,8,["id","full-text","slug"])])):(0,n.kq)("",!0)],64))}const mi={class:"note-actions admin"};var gi={__name:"AdminActionsNote",props:{id:{type:String,default:""},fullText:{type:String,default:""},slug:{type:String,default:""}},emits:["edit-mode"],setup(e){return(e,t)=>{const a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("ul",mi,[(0,n._)("li",null,[(0,n._)("a",{href:"#",onClick:t[0]||(t[0]=(0,s.iM)((t=>e.$emit("edit-mode")),["prevent"]))}," edit ")]),(0,n._)("li",null,[(0,n.Wm)(a,{to:{name:"deleteNote"}},{default:(0,n.w5)((()=>[(0,n.Uk)(" delete ")])),_:1})])])}}};const yi=gi;var vi=yi;const wi={class:"admin"},fi={key:0},bi={for:"fullText"},Ti=["aria-busy"];function ki(e,t,a,o,i,r){const l=(0,n.up)("loading-placeholder");return(0,n.wg)(),(0,n.iD)("section",wi,[e.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("form",fi,[(0,n._)("label",bi,[(0,n.Uk)("Note "),(0,n.wy)((0,n._)("textarea",{id:"fullText","onUpdate:modelValue":t[0]||(t[0]=t=>e.fullText=t),name:"fullText",autocomplete:"off"},null,512),[[s.nr,e.fullText]])]),(0,n._)("button",{type:"button","aria-busy":e.buttonDisabled,onClick:t[1]||(t[1]=(0,s.iM)((t=>r.submitForm(e.id)),["prevent"]))},(0,c.zw)(e.id?"Edit":"Create")+" Note ",9,Ti)])),(0,n.Wm)(s.uT,{name:"fade",mode:"out-in"},{default:(0,n.w5)((()=>[e.isLoading?((0,n.wg)(),(0,n.j4)(l,{key:0})):(0,n.kq)("",!0)])),_:1})])}var Si={name:"NoteCrudComponent",components:{LoadingPlaceholder:Ze},emits:["view-mode"],data:()=>({fullText:"",buttonDisabled:!1,formAction:void 0,isLoading:!0,id:void 0}),mounted(){this.formAction=this.id?"Edit":"Create",this.id?this.getCurrentNote(this.id):this.isLoading=!1},methods:{async getCurrentNote(e){try{this.isLoading=!0;const t=await this.getNote(e);this.fullText=t.data.fullText}catch(t){this.$store.dispatch("errors/setError",t)}finally{this.isLoading=!1}},resetFormErrors(){this.errorMessage=""},checkForm(){this.resetFormErrors();let e=!0;return""===this.title&&(this.errorMessage="Please enter a title.",e=!1),e},async submitForm(e){try{if(this.resetFormErrors(),!0===this.checkForm()){this.buttonDisabled=!0;const t=e?"PUT":"POST";await V({method:t,url:`/notes/${e}`,data:{fullText:this.fullText,slug:this.slug}}),this.$emit("view-mode",e)}else this.$store.dispatch("errors/setError",this.errorMessage)}catch(t){this.$store.dispatch("errors/setError",t)}finally{this.buttonDisabled=!1}},async getNote(e){return V({method:"GET",url:`/notes/${e}`})}}};const _i=(0,m.Z)(Si,[["render",ki],["__scopeId","data-v-81d46bd6"]]);var Ei=_i,Ci={name:"NoteListItem",components:{AdminActionsNote:vi,NoteCrud:Ei},props:{passedNote:{type:Object,default:null}},data:()=>({isEditing:!1,isLoading:!1}),created(){this.note=this.passedNote},methods:{async getCurrentNote(e){try{this.isLoading=!0,this.isEditing=!1;const t=await this.getNote(e);this.note=t.data,this.isLoading=!1}catch(t){this.$store.dispatch("errors/setError",t)}},async getNote(e){return V({method:"GET",url:`/notes/${e}`})}}};const Di=(0,m.Z)(Ci,[["render",hi]]);var Ai=Di,Pi={name:"TabNotes",components:{NotesListItem:Ai},props:{items:{default:()=>[],type:Array}},data(){return{}},computed:{...(0,N.Se)({notes:"categoryPages/notes"})}};const Mi=(0,m.Z)(Pi,[["render",ri]]);var xi=Mi;const Li={class:"nav-tabs nav-tabs-inner-margin"},Ui=["onClick","onKeyup"],Ii={key:0,class:"nav-content"},Ri={key:1};function $i(e,t,a,o,i,r){const l=(0,n.up)("articls-list-item"),u=(0,n.up)("draggable-items");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("ul",Li,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.articlTypes,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e,class:(0,c.C_)({active:i.articlTypeCurrent===e})},[(0,n._)("a",{href:"",onClick:(0,s.iM)((t=>i.articlTypeCurrent=e),["prevent"]),onKeyup:(0,s.D2)((0,s.iM)((t=>i.articlTypeCurrent=e),["prevent"]),["enter"])},(0,c.zw)(e),41,Ui)],2)))),128))]),i.articlTypeCurrent?((0,n.wg)(),(0,n.iD)("ul",Ii,[(0,n.Wm)(u,{modelValue:e.articls[i.articlTypeCurrent],"onUpdate:modelValue":t[0]||(t[0]=t=>e.articls[i.articlTypeCurrent]=t),tag:"ul","item-key":"id",handle:".handle","ghost-class":"ghost",onChange:r.onUpdateArticlsOrderValues},{item:(0,n.w5)((({element:e})=>[(0,n.Wm)(l,{articl:e,order:e.order},null,8,["articl","order"])])),_:1},8,["modelValue","onChange"])])):(0,n.kq)("",!0),0===e.articls[i.articlTypeCurrent]?.length?((0,n.wg)(),(0,n.iD)("div",Ri," No entries yet. ")):(0,n.kq)("",!0)])}const Ni=e=>((0,n.dD)("data-v-5d86e06f"),e=e(),(0,n.Cn)(),e),Oi={class:"articl"},Fi={class:"title container"},Vi=["data-tooltip","href"],qi={class:"articl-details"},zi={class:"authors-list"},Bi=Ni((()=>(0,n._)("summary",null," Affiliations ",-1))),ji={key:0},Wi={key:0,class:"articl-details"},Ki={key:0},Gi=["data-tooltip","href"],Hi={key:1,class:"articl-details"},Zi={key:2,class:"articl-details"},Yi={key:3,class:"articl-details"},Ji=Ni((()=>(0,n._)("summary",null,"Abstract",-1))),Xi={key:4,class:"articl-details"},Qi=Ni((()=>(0,n._)("summary",null,"FUull text",-1))),er={key:5,class:"articl-details"},tr=["src","alt"],ar={key:6,class:"articl-details"},or=["src","alt"],sr=Ni((()=>(0,n._)("br",null,null,-1))),ir={key:7,class:"articl-details"};function rr(e,t,a,o,s,i){const r=(0,n.up)("articl-actions");return(0,n.wg)(),(0,n.iD)("div",Oi,[(0,n._)("ul",null,[(0,n._)("li",Fi,[(0,n._)("a",{"data-tooltip":i.linkMessage,href:a.articl.articlUrl,class:"box",target:"_blank"},(0,c.zw)(a.articl.title),9,Vi),(0,n.Wm)(r,{id:a.articl.id,class:"box",title:a.articl.title},null,8,["id","title"])]),(0,n._)("li",qi,[(0,n._)("p",zi,(0,c.zw)(i.authorsList),1),(0,n._)("details",null,[Bi,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.articl.authors,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.nameLast,class:"grid"},[(0,n.Uk)((0,c.zw)(e.nameFirst)+" "+(0,c.zw)(e.nameLast)+" ",1),e.affilliations.length?((0,n.wg)(),(0,n.iD)("ul",ji,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.affilliations,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e},(0,c.zw)(e),1)))),128))])):(0,n.kq)("",!0)])))),128))])])]),a.articl.journal?((0,n.wg)(),(0,n.iD)("li",Wi,[(0,n.Uk)((0,c.zw)(a.articl.journal)+" ",1),a.articl.year?((0,n.wg)(),(0,n.iD)("span",Ki,(0,c.zw)(a.articl.year),1)):(0,n.kq)("",!0),(0,n.Uk)(" | "),(0,n._)("a",{"data-tooltip":i.linkMessage,href:a.articl.articlUrl,target:"_blank"},(0,c.zw)(a.articl.articlUrl),9,Gi)])):(0,n.kq)("",!0),a.articl.authorsOrig?((0,n.wg)(),(0,n.iD)("li",Hi,[(0,n._)("small",null,[(0,n.Uk)((0,c.zw)(i.highlightedSubstring(a.articl.authorsOrig,e.params.authors,"prefix")),1),(0,n._)("strong",{class:(0,c.C_)({"not-strong":-1===i.noCaseIndexOf(a.articl.authorsOrig,e.params.authors)})},(0,c.zw)(i.highlightedSubstring(a.articl.authorsOrig,e.params.authors,"term")),3),(0,n.Uk)((0,c.zw)(i.highlightedSubstring(a.articl.authorsOrig,e.params.authors,"suffix")),1)])])):(0,n.kq)("",!0),a.articl.source?((0,n.wg)(),(0,n.iD)("li",Zi,(0,c.zw)(a.articl.source),1)):(0,n.kq)("",!0),a.articl.abstract?((0,n.wg)(),(0,n.iD)("li",Yi,[(0,n._)("details",null,[Ji,(0,n._)("div",null,(0,c.zw)(a.articl.abstract),1)])])):(0,n.kq)("",!0),a.articl.fullText?((0,n.wg)(),(0,n.iD)("li",Xi,[(0,n._)("details",null,[Qi,(0,n._)("div",null,(0,c.zw)(a.articl.fullText),1)])])):(0,n.kq)("",!0),a.articl.thumbnailImage?((0,n.wg)(),(0,n.iD)("li",er,[(0,n._)("img",{src:a.articl.thumbnailImage,alt:a.articl.title},null,8,tr)])):(0,n.kq)("",!0),a.articl.url?((0,n.wg)(),(0,n.iD)("li",ar,[(0,n._)("img",{src:a.articl.url,alt:a.articl.title},null,8,or),sr,(0,n.Uk)(" "+(0,c.zw)(a.articl.url),1)])):(0,n.kq)("",!0),a.articl.imageCaption?((0,n.wg)(),(0,n.iD)("li",ir,(0,c.zw)(a.articl.imageCaption),1)):(0,n.kq)("",!0)])])}const nr=e=>((0,n.dD)("data-v-4f6a8f29"),e=e(),(0,n.Cn)(),e),lr={class:"row-admin-box"},ur=nr((()=>(0,n._)("small",null,"edit",-1))),cr=nr((()=>(0,n._)("small",null,"delete",-1))),dr={role:"button",class:"handle",href:"#"},pr=nr((()=>(0,n._)("div",{class:"sr"},"Reorder articl",-1)));function hr(e,t,a,o,s,i){const r=(0,n.up)("router-link"),l=(0,n.up)("vue-feather");return(0,n.wg)(),(0,n.iD)("div",lr,[(0,n.Wm)(r,{role:"button",to:{name:"editArticl",params:{editId:a.id}}},{default:(0,n.w5)((()=>[ur])),_:1},8,["to"]),(0,n.Wm)(r,{role:"button",to:{name:"deleteArticl",params:{id:a.id,title:a.title}}},{default:(0,n.w5)((()=>[cr])),_:1},8,["to"]),(0,n._)("a",dr,[pr,(0,n.Wm)(l,{size:"0.7rem",type:"move","aria-label":"Drag to reorder"})])])}var mr={name:"ArticlActions",components:{VueFeather:$.Z},props:{id:{type:String,default:""},title:{type:String,default:""}},data(){return{expanded:!1}}};const gr=(0,m.Z)(mr,[["render",hr],["__scopeId","data-v-4f6a8f29"]]);var yr=gr,vr={name:"ArticlsListItem",components:{ArticlActions:yr},props:{articl:{type:Object,default:null}},data:()=>({}),computed:{...(0,N.Se)({params:"articlsParams/params"}),monthStr(){return nt(Number(this.articl.month))?["January","February","March","April","May","June","July","August","September","October","November","December"][this.articl.month-1]:this.articl.month},linkMessage(){try{return`Read article on ${new URL(this.articl.articlUrl).hostname.replace("www.","")}`}catch{return"Malformed url"}},authorsList(){if(this.articl?.authors?.map){const e=this.articl.authors.map((e=>`${e.nameFirst} ${e.nameLast}`));return e.join(", ")}return[]}},methods:{highlightedSubstring:ut,noCaseIndexOf:lt}};const wr=(0,m.Z)(vr,[["render",rr],["__scopeId","data-v-5d86e06f"]]);var fr=wr,br={name:"TabArticls",components:{DraggableItems:Ga(),ArticlsListItem:fr},props:{items:{default:()=>[],type:Array},type:{default:()=>"",type:String},slug:{default:()=>"",type:String}},data(){return{articlTypeCurrent:void 0}},computed:{...(0,N.Se)({articls:"categoryPages/articls",articlTypes:"categoryPages/articlTypes"})},mounted(){[this.articlTypeCurrent]=this.articlTypes},methods:{updateArticlsOrderValues(e){try{this.articls[e].forEach(((e,t)=>{const a=e;a.order=t}))}catch(t){this.$store.dispatch("errors/setError",t)}},async saveArticlsOrderValues(e){try{const t=this.articls[e].map((e=>({id:e.id,order:e.order})));await this.saveArticlsOrder(t)}catch(t){this.$store.dispatch("errors/setError",t)}},async saveArticlsOrder(e){this.isLoading=!0;const t=await V({method:"POST",url:"/articls/order",data:{order:e}});return this.isLoading=!1,t.data},onUpdateArticlsOrderValues(){this.updateArticlsOrderValues(this.articlTypeCurrent),this.saveArticlsOrderValues(this.articlTypeCurrent)}}};const Tr=(0,m.Z)(br,[["render",$i]]);var kr=Tr;const Sr={class:"nav-content"},_r=(0,n._)("h2",null,"Blogs",-1),Er=(0,n._)("ul",null,[(0,n._)("li",null,"Todo")],-1),Cr=[_r,Er];function Dr(e,t,a,o,s,i){return(0,n.wg)(),(0,n.iD)("div",Sr,Cr)}var Ar={name:"TabBlogs",components:{},data(){return{TabName:""}},computed:{},mounted(){},methods:{}};const Pr=(0,m.Z)(Ar,[["render",Dr]]);var Mr=Pr;const xr={class:"tab-content"},Lr=(0,n._)("h2",null,"Notes",-1);function Ur(e,t,a,o,s,i){const r=(0,n.up)("notes-list-item");return(0,n.wg)(),(0,n.iD)("div",xr,[Lr,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.notes||[],(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.fullText},[(0,n.Wm)(r,{"passed-note":e},null,8,["passed-note"])])))),128))])])}var Ir={name:"TabNotes",components:{NotesListItem:Ai},props:{items:{default:()=>[],type:Array}},data(){return{}},computed:{...(0,N.Se)({notes:"categoryPages/notes"})}};const Rr=(0,m.Z)(Ir,[["render",Ur]]);var $r=Rr;const Nr=(0,pe.p7)({history:(0,pe.PO)(),routes:[{name:"homePage",path:"/",component:go},{name:"categoryPage",path:"/resource/:slug",component:Aa,children:[{name:"TabCategories",path:"",component:po},{name:"TabNotes",path:"notes",component:xi,props:!0},{name:"TabBlogs",path:"blogs",component:Mr},{name:"TabQuestionsAnswers",path:"qa",component:$r},{name:"TabArticls",path:"articls/:type?",component:kr}]},{name:"verifyEmailPage",path:"/verify-email",component:oi},{name:"loginPage",path:"/login",component:Uo},{name:"sendVerificationEmail",path:"/send-verification-email",component:rs},{name:"forgotPassPage",path:"/forgot-pass",component:Va},{name:"resetPasswordPage",path:"/change-password",component:rs},{name:"usersPage",path:"/users/:id",component:Js},{name:"users",path:"/users",component:Js},{name:"createCategoryPage",path:"/categories/:slug?",component:ia},{name:"editCategory",path:"/categories/edit/:id?",component:ia},{name:"deleteCategory",path:"/categories/delete/:slug?",component:Vt},{name:"editArticl",path:"/articls/:editId",component:At,props:!0},{name:"createArticlPage",path:"/articls",component:At},{name:"deleteArticl",path:"/articls/delete/:id/:title",component:It},{name:"deleteNote",path:"/notes/delete",component:No},{name:"NotFound",path:"/:notFound(.*)",component:Bo}]});var Or=Nr,Fr={computed:{isLoggedInMixin(){return this.$store.state.tokens.accessTokenExpires>Date.now()}}};const Vr=(0,s.ri)(de);Vr.mixin(Fr);let qr=!0;"192.168.1.130"!==window.location.hostname&&"localhost"!==window.location.hostname||(qr=!1),V.interceptors.request.use((e=>{const t=e,{accessTokenValue:a}=pt.state.tokens;return a&&"/auth/refresh-tokens"!==t.url&&(t.headers.Authorization=`Bearer ${a}`),Promise.resolve(t)}),(e=>e)),V.interceptors.response.use((async e=>e),(async e=>{const{status:t}=e;if(401===t){const{refreshTokenExpires:t}=pt.state.tokens;if(t>Date.now())try{return await pt.dispatch("renewSession"),(0,o.Z)(e.config)}catch(a){pt.dispatch("logout"),Or.push({name:"login"})}pt.dispatch("logout"),Or.push({name:"login"})}return Promise.reject(e)})),Vr.use(Or),Vr.use(r(),{secure:qr}),Vr.use(pt),Vr.mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,i){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],i=e[c][2];for(var n=!0,l=0;l<o.length;l++)(!1&i||r>=i)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(n=!1,i<r&&(r=i));if(n){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,i,r=o[0],n=o[1],l=o[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var c=l(a)}for(t&&t(o);u<r.length;u++)i=r[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},o=self["webpackChunkreplace"]=self["webpackChunkreplace"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(7411)}));o=a.O(o)})();
//# sourceMappingURL=app.df78a5fc.js.map